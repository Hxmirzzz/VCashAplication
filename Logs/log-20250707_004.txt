2025-07-07 14:18:11.335 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:18:11.402 -05:00 [INF] warn: 07/07/2025 14:18:11.401 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:18:12.761 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:18:12.785 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:18:12.814 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:18:12.824 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:18:12.831 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:18:12.838 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:18:12.897 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:18:12.903 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:18:12.912 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:18:12.918 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:18:12.923 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:18:12.930 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:18:12.935 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:18:12.939 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:18:12.944 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:18:12.948 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:18:12.953 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:18:13.094 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:18:13.098 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:18:13.103 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:18:13.109 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:18:13.113 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:18:13.122 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:18:13.325 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:18:13.332 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:18:13.460 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:18:13.530 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:18:13.534 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:18:13.537 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:18:13.542 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:18:13.551 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:18:13.554 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:18:13.557 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:18:13.560 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:18:13.695 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:18:14.353 -05:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7024: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
 ---> System.Net.Sockets.SocketException (10048): Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-07 14:19:17.941 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:19:18.080 -05:00 [INF] warn: 07/07/2025 14:19:18.080 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:19:19.135 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:19:19.146 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:19:19.149 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:19:19.152 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:19:19.155 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:19:19.158 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:19:19.161 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:19:19.164 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:19:19.167 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:19:19.171 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:19:19.174 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:19:19.178 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:19:19.181 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:19:19.185 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:19:19.189 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:19:19.193 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:19:19.197 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:19:19.279 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:19:19.283 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:19:19.287 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:19:19.290 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:19:19.292 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:19:19.297 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:19:19.453 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:19:19.460 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:19:19.554 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:19:19.607 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:19:19.612 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:19:19.616 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:19:19.619 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:19:19.629 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:19:19.633 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:19:19.637 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:19:19.640 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:19:19.758 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:19:20.298 -05:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7024: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
 ---> System.Net.Sockets.SocketException (10048): Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-07 14:29:40.910 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:29:40.953 -05:00 [INF] warn: 07/07/2025 14:29:40.953 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:29:41.519 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:29:41.527 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:29:41.530 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:29:41.532 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:29:41.534 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:29:41.536 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:29:41.538 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:29:41.540 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:29:41.542 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:29:41.544 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:29:41.546 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:29:41.548 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:29:41.550 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:29:41.552 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:29:41.554 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:29:41.556 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:29:41.558 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:29:41.626 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:29:41.630 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:29:41.634 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:29:41.637 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:29:41.640 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:29:41.645 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:29:41.762 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:29:41.767 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:29:41.830 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:29:41.867 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:29:41.872 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:29:41.876 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:29:41.878 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:29:41.886 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:29:41.891 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:29:41.895 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:29:41.897 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:29:41.993 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:29:42.299 -05:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7024: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
 ---> System.Net.Sockets.SocketException (10048): Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-07 14:33:36.133 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:33:36.214 -05:00 [INF] warn: 07/07/2025 14:33:36.213 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:33:37.295 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:33:37.306 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:33:37.309 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:33:37.312 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:33:37.315 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:33:37.318 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:33:37.320 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:33:37.323 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:33:37.326 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:33:37.329 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:33:37.332 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:33:37.335 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:33:37.337 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:33:37.340 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:33:37.343 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:33:37.346 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:33:37.349 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:33:37.417 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:33:37.421 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:33:37.424 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:33:37.426 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:33:37.429 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:33:37.433 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:33:37.594 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:33:37.600 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:33:37.672 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:33:37.710 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:33:37.714 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:33:37.718 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:33:37.720 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:33:37.729 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:33:37.734 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:33:37.738 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:33:37.742 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:33:37.858 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:33:38.345 -05:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7024: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
 ---> System.Net.Sockets.SocketException (10048): Solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-07 14:35:17.283 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:35:17.360 -05:00 [INF] warn: 07/07/2025 14:35:17.359 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:35:18.438 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:35:18.452 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:35:18.456 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:35:18.459 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:35:18.465 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:35:18.469 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:35:18.472 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:35:18.476 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:35:18.481 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:35:18.484 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:35:18.488 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:35:18.490 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:35:18.494 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:35:18.499 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:35:18.504 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:35:18.506 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:35:18.509 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:35:18.582 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:35:18.587 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:35:18.593 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:35:18.602 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:35:18.607 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:35:18.620 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:35:18.796 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:35:18.803 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:35:18.907 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:35:18.970 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:35:18.974 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:35:18.977 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:35:18.982 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:35:18.995 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:35:18.999 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:35:19.002 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:35:19.005 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:35:19.150 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:35:19.693 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 14:35:19.694 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 14:35:19.762 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 14:35:19.764 -05:00 [INF] Hosting environment: Development
2025-07-07 14:35:19.766 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 14:35:20.265 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:35:20.319 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:35:20.565 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:35:20.581 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:35:20.596 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:35:20.604 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:35:20.635 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:35:20.721 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:35:20.726 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:35:20.730 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:35:20.739 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:35:20.750 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:35:20.752 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:35:20.754 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:35:20.756 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:35:20.759 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:35:20.764 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:35:20.766 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:35:20.768 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:35:20.770 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:35:20.773 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:35:20.776 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:35:20.780 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:35:20.782 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:35:20.784 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:35:20.787 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:35:20.798 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:35:21.453 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 14:35:21.673 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetListItemsWithValueField()
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateGroupsAndOptions(String optionLabel, IEnumerable`1 selectList, ICollection`1 currentValues)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateSelect(ViewContext viewContext, ModelExplorer modelExplorer, String optionLabel, String expression, IEnumerable`1 selectList, ICollection`1 currentValues, Boolean allowMultiple, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper.Process(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.TagHelpers.TagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.<>c__DisplayClass30_0.<<ExecuteAsync>b__0>d.MoveNext() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 32
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.ExecuteAsync() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 16
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-07 14:35:21.994 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:46:50.103 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:46:50.184 -05:00 [INF] warn: 07/07/2025 14:46:50.183 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:46:51.557 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:46:51.566 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:46:51.571 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:46:51.575 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:46:51.579 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:46:51.583 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:46:51.587 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:46:51.591 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:46:51.599 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:46:51.682 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:46:51.686 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:46:51.691 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:46:51.694 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:46:51.699 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:46:51.702 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:46:51.707 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:46:51.711 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:46:51.804 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:46:51.807 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:46:51.811 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:46:51.816 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:46:51.821 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:46:51.827 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:46:52.040 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:46:52.050 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:46:52.138 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:46:52.182 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:46:52.186 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:46:52.190 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:46:52.194 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:46:52.207 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:46:52.211 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:46:52.215 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:46:52.219 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:46:52.340 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:46:52.967 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 14:46:52.969 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 14:46:53.012 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 14:46:53.014 -05:00 [INF] Hosting environment: Development
2025-07-07 14:46:53.016 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 14:46:53.506 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:46:53.553 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:46:53.804 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:46:53.816 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:46:53.898 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:46:53.919 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:46:53.969 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:46:54.057 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:46:54.064 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:46:54.067 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:46:54.075 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:46:54.088 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:46:54.091 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:46:54.093 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:46:54.096 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:46:54.099 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:46:54.103 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:46:54.107 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:46:54.110 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:46:54.114 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:46:54.118 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:46:54.122 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:46:54.125 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:46:54.127 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:46:54.130 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:46:54.135 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:46:54.156 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:46:54.995 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 14:46:55.207 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetListItemsWithValueField()
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateGroupsAndOptions(String optionLabel, IEnumerable`1 selectList, ICollection`1 currentValues)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateSelect(ViewContext viewContext, ModelExplorer modelExplorer, String optionLabel, String expression, IEnumerable`1 selectList, ICollection`1 currentValues, Boolean allowMultiple, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper.Process(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.TagHelpers.TagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.<>c__DisplayClass36_0.<<ExecuteAsync>b__0>d.MoveNext() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 30
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.ExecuteAsync() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 14
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-07 14:46:55.481 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:47:37.050 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:47:37.181 -05:00 [INF] warn: 07/07/2025 14:47:37.179 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:47:38.811 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:47:38.828 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:47:38.835 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:47:38.867 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:47:38.977 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:47:38.982 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:47:38.991 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:47:38.995 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:47:39.001 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:47:39.005 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:47:39.009 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:47:39.013 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:47:39.016 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:47:39.020 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:47:39.024 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:47:39.028 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:47:39.032 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:47:39.134 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:47:39.138 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:47:39.142 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:47:39.146 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:47:39.149 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:47:39.153 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:47:39.423 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:47:39.439 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:47:39.583 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:47:39.661 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:47:39.674 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:47:39.677 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:47:39.681 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:47:39.700 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:47:39.704 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:47:39.729 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:47:39.734 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:47:39.929 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:47:40.479 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 14:47:40.481 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 14:47:40.538 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 14:47:40.540 -05:00 [INF] Hosting environment: Development
2025-07-07 14:47:40.541 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 14:47:40.816 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:47:40.859 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:47:41.069 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 127.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:47:41.086 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:47:41.106 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:47:41.291 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 127.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:47:41.330 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:47:41.431 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:47:41.437 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:47:41.442 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:47:41.452 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:47:41.467 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:47:41.472 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:47:41.474 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:47:41.476 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:47:41.480 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:47:41.485 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:47:41.490 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:47:41.492 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:47:41.494 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:47:41.497 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:47:41.502 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:47:41.506 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:47:41.508 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:47:41.511 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:47:41.515 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:47:41.531 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:47:42.090 -05:00 [INF] | Usuario: planeador1 | Ip: 127.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 14:47:42.240 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetListItemsWithValueField()
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateGroupsAndOptions(String optionLabel, IEnumerable`1 selectList, ICollection`1 currentValues)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateSelect(ViewContext viewContext, ModelExplorer modelExplorer, String optionLabel, String expression, IEnumerable`1 selectList, ICollection`1 currentValues, Boolean allowMultiple, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper.Process(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.TagHelpers.TagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.<>c__DisplayClass36_0.<<ExecuteAsync>b__0>d.MoveNext() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 30
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.ExecuteAsync() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 14
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-07 14:47:42.362 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:48:03.146 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:48:03.353 -05:00 [INF] warn: 07/07/2025 14:48:03.352 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:48:04.518 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:48:04.529 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:48:04.533 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:48:04.540 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:48:04.542 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:48:04.545 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:48:04.548 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:48:04.552 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:48:04.555 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:48:04.558 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:48:04.562 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:48:04.566 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:48:04.572 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:48:04.575 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:48:04.578 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:48:04.581 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:48:04.586 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:48:04.658 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:48:04.662 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:48:04.666 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:48:04.672 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:48:04.675 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:48:04.679 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:48:04.812 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:48:04.818 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:48:04.894 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:48:04.938 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:48:04.942 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:48:04.945 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:48:04.948 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:48:04.959 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:48:04.962 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:48:04.965 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:48:04.970 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:48:05.095 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:48:05.633 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 14:48:05.634 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 14:48:05.675 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 14:48:05.677 -05:00 [INF] Hosting environment: Development
2025-07-07 14:48:05.678 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 14:48:10.369 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:48:10.401 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:48:10.567 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:48:10.579 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:48:10.597 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:48:10.603 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:48:10.642 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:48:10.722 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:48:10.725 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:48:10.727 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:48:10.735 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:48:10.744 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:48:10.746 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:48:10.748 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:48:10.754 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:48:10.757 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:48:10.762 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:48:10.766 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:48:10.769 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:48:10.771 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:48:10.774 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:48:10.778 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:48:10.782 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:48:10.784 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:48:10.786 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:48:10.789 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:48:10.800 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:48:11.344 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 14:48:11.473 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetListItemsWithValueField()
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateGroupsAndOptions(String optionLabel, IEnumerable`1 selectList, ICollection`1 currentValues)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateSelect(ViewContext viewContext, ModelExplorer modelExplorer, String optionLabel, String expression, IEnumerable`1 selectList, ICollection`1 currentValues, Boolean allowMultiple, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper.Process(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.TagHelpers.TagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.<>c__DisplayClass36_0.<<ExecuteAsync>b__0>d.MoveNext() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 27
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.ExecuteAsync() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 11
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-07 14:48:11.633 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:48:40.897 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:48:40.947 -05:00 [INF] warn: 07/07/2025 14:48:40.946 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:48:42.327 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:48:42.338 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:48:42.345 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:48:42.349 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:48:42.353 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:48:42.357 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:48:42.363 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:48:42.367 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:48:42.370 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:48:42.374 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:48:42.379 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:48:42.383 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:48:42.388 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:48:42.392 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:48:42.397 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:48:42.402 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:48:42.406 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:48:42.486 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:48:42.491 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:48:42.495 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:48:42.500 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:48:42.504 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:48:42.510 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:48:42.666 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:48:42.672 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:48:42.786 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:48:42.834 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:48:42.838 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:48:42.841 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:48:42.847 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:48:42.860 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:48:42.866 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:48:42.870 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:48:42.873 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:48:43.161 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:48:43.553 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 14:48:43.555 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 14:48:43.588 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 14:48:43.591 -05:00 [INF] Hosting environment: Development
2025-07-07 14:48:43.593 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 14:48:44.139 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:48:44.189 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:48:44.392 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:48:44.412 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:48:44.428 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:48:44.433 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:48:44.468 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:48:44.546 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:48:44.550 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:48:44.552 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:48:44.559 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:48:44.569 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:48:44.572 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:48:44.573 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:48:44.576 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:48:44.579 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:48:44.583 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:48:44.586 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:48:44.587 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:48:44.589 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:48:44.593 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:48:44.599 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:48:44.601 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:48:44.604 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:48:44.607 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:48:44.611 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:48:44.623 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:48:45.378 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 14:48:45.543 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetListItemsWithValueField()
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateGroupsAndOptions(String optionLabel, IEnumerable`1 selectList, ICollection`1 currentValues)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateSelect(ViewContext viewContext, ModelExplorer modelExplorer, String optionLabel, String expression, IEnumerable`1 selectList, ICollection`1 currentValues, Boolean allowMultiple, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper.Process(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.TagHelpers.TagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.<ExecuteAsync>b__36_0() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 27
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.ExecuteAsync() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 11
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-07 14:48:45.696 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:49:08.176 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:49:08.226 -05:00 [INF] warn: 07/07/2025 14:49:08.225 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:49:09.975 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:49:09.990 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:49:09.995 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:49:09.999 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:49:10.005 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:49:10.016 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:49:10.020 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:49:10.026 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:49:10.029 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:49:10.033 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:49:10.036 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:49:10.040 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:49:10.043 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:49:10.046 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:49:10.049 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:49:10.053 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:49:10.057 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:49:10.232 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:49:10.240 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:49:10.245 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:49:10.253 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:49:10.259 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:49:10.266 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:49:10.450 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:49:10.457 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:49:10.565 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:49:10.618 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:49:10.627 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:49:10.635 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:49:10.639 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:49:10.653 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:49:10.657 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:49:10.661 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:49:10.665 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:49:10.809 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:49:11.251 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 14:49:11.252 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 14:49:11.323 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 14:49:11.325 -05:00 [INF] Hosting environment: Development
2025-07-07 14:49:11.327 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 14:49:11.635 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:49:11.695 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:49:11.943 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:49:11.959 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:49:11.976 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:49:11.981 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:49:12.013 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:49:12.116 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:49:12.122 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:49:12.126 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:49:12.135 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:49:12.152 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:49:12.156 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:49:12.159 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:49:12.161 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:49:12.165 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:49:12.169 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:49:12.172 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:49:12.174 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:49:12.176 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:49:12.179 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:49:12.183 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:49:12.186 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:49:12.188 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:49:12.190 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:49:12.194 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:49:12.205 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:49:12.927 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 14:49:13.124 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetListItemsWithValueField()
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateGroupsAndOptions(String optionLabel, IEnumerable`1 selectList, ICollection`1 currentValues)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateSelect(ViewContext viewContext, ModelExplorer modelExplorer, String optionLabel, String expression, IEnumerable`1 selectList, ICollection`1 currentValues, Boolean allowMultiple, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper.Process(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.TagHelpers.TagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.<ExecuteAsync>b__36_0() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 26
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.ExecuteAsync() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 10
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-07 14:49:13.263 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:51:44.895 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:51:44.988 -05:00 [INF] warn: 07/07/2025 14:51:44.987 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:51:45.918 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:51:45.929 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:51:45.934 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:51:45.938 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:51:45.942 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:51:45.947 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:51:45.950 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:51:45.954 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:51:45.957 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:51:45.961 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:51:45.965 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:51:45.968 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:51:45.973 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:51:45.978 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:51:45.982 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:51:45.986 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:51:45.991 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:51:46.132 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:51:46.147 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:51:46.151 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:51:46.162 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:51:46.167 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:51:46.177 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:51:46.471 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:51:46.479 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:51:46.638 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:51:46.702 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:51:46.707 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:51:46.712 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:51:46.716 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:51:46.726 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:51:46.730 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:51:46.733 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:51:46.736 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:51:46.894 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:51:47.319 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 14:51:47.321 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 14:51:47.356 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 14:51:47.359 -05:00 [INF] Hosting environment: Development
2025-07-07 14:51:47.361 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 14:51:47.589 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:51:47.620 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:51:47.764 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:51:47.775 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:51:47.812 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:51:47.817 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:51:47.837 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:51:47.891 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:51:47.895 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:51:47.898 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:51:47.910 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:51:47.921 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:51:47.926 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:51:47.927 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:51:47.929 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:51:47.932 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:51:47.935 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:51:47.937 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:51:47.938 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:51:47.940 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:51:47.944 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:51:47.947 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:51:47.949 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:51:47.951 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:51:47.953 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:51:47.957 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:51:47.965 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:51:48.409 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 14:51:48.528 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetListItemsWithValueField()
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateGroupsAndOptions(String optionLabel, IEnumerable`1 selectList, ICollection`1 currentValues)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateSelect(ViewContext viewContext, ModelExplorer modelExplorer, String optionLabel, String expression, IEnumerable`1 selectList, ICollection`1 currentValues, Boolean allowMultiple, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper.Process(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.TagHelpers.TagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.<ExecuteAsync>b__30_0() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 27
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at AspNetCoreGeneratedDocument.Views_RutasDiarias_Edit.ExecuteAsync() in C:\Users\hamirrocha\source\repos\VCashApp\Views\RutasDiarias\Edit.cshtml:line 7
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-07 14:51:48.660 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:52:32.058 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:52:32.136 -05:00 [INF] warn: 07/07/2025 14:52:32.135 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:52:33.643 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:52:33.657 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:52:33.660 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:52:33.664 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:52:33.669 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:52:33.673 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:52:33.676 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:52:33.680 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:52:33.684 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:52:33.687 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:52:33.690 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:52:33.693 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:52:33.696 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:52:33.700 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:52:33.703 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:52:33.706 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:52:33.708 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:52:33.829 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:52:33.835 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:52:33.839 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:52:33.843 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:52:33.848 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:52:33.852 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:52:34.053 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:52:34.059 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:52:34.160 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:52:34.211 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:52:34.215 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:52:34.218 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:52:34.222 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:52:34.236 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:52:34.240 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:52:34.243 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:52:34.246 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:52:34.351 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:52:34.759 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 14:52:34.761 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 14:52:34.816 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 14:52:34.818 -05:00 [INF] Hosting environment: Development
2025-07-07 14:52:34.820 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 14:52:35.074 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:52:35.127 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:52:35.323 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:52:35.337 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:52:35.354 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:52:35.359 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:52:35.392 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:52:35.458 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:52:35.462 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:52:35.465 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:52:35.473 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:52:35.484 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:52:35.487 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:52:35.488 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:52:35.490 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:52:35.493 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:52:35.497 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:52:35.501 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:52:35.502 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:52:35.504 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:52:35.508 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:52:35.512 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:52:35.515 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:52:35.517 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:52:35.520 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:52:35.523 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:52:35.533 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:52:36.012 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 14:52:36.340 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:52:37.153 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:52:37.174 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 14:52:37.290 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:52:37.295 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 14:52:37.336 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:52:37.341 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 14:55:28.182 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:55:28.230 -05:00 [INF] warn: 07/07/2025 14:55:28.229 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 14:55:28.743 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 14:55:28.751 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 14:55:28.754 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 14:55:28.757 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 14:55:28.759 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 14:55:28.761 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 14:55:28.763 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 14:55:28.766 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 14:55:28.768 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 14:55:28.770 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 14:55:28.772 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 14:55:28.774 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 14:55:28.776 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 14:55:28.778 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 14:55:28.780 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 14:55:28.782 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 14:55:28.785 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 14:55:28.826 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 14:55:28.829 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 14:55:28.832 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 14:55:28.834 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 14:55:28.836 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 14:55:28.839 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 14:55:28.925 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 14:55:28.930 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 14:55:28.987 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 14:55:29.022 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 14:55:29.026 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 14:55:29.030 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 14:55:29.033 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 14:55:29.042 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 14:55:29.046 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 14:55:29.049 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 14:55:29.057 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 14:55:29.156 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 14:55:29.460 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 14:55:29.462 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 14:55:29.495 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 14:55:29.496 -05:00 [INF] Hosting environment: Development
2025-07-07 14:55:29.497 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 14:55:30.095 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:55:30.121 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:55:30.246 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:55:30.260 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:55:30.272 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:55:30.276 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:55:30.295 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:55:30.352 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:55:30.356 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:55:30.357 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:55:30.362 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:55:30.373 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:55:30.376 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:55:30.377 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:55:30.378 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:55:30.381 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:55:30.386 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:55:30.387 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:55:30.390 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:55:30.391 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:55:30.394 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:55:30.397 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:55:30.400 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:55:30.401 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:55:30.403 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:55:30.406 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:55:30.413 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:55:30.825 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 14:55:31.107 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:55:31.377 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:55:31.402 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 14:55:31.490 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:55:31.497 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 14:55:31.526 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 14:55:31.531 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 14:55:54.334 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:55:54.337 -05:00 [WRN] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: NoAutenticado | IP: 0.0.0.1 | Resultado: No autenticado. Redirigiendo a Login.
2025-07-07 14:55:54.339 -05:00 [INF] Authorization failed for the request at filter 'VCashApp.Filters.RequiredPermissionFilter'.
2025-07-07 14:55:54.341 -05:00 [INF] Executing RedirectToPageResult, redirecting to /Account/Login.
2025-07-07 14:55:54.359 -05:00 [INF] Executing endpoint '/Account/Login'
2025-07-07 14:55:54.376 -05:00 [INF] Executing handler method VCashApp.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-07-07 14:55:54.381 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-07-07 14:55:54.384 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2025-07-07 14:55:54.388 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-07-07 14:55:54.390 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-07-07 14:55:54.424 -05:00 [INF] Executed page /Account/Login in 53.8609ms
2025-07-07 14:56:02.069 -05:00 [INF] Executing endpoint '/Account/Login'
2025-07-07 14:56:02.083 -05:00 [INF] Executing handler method VCashApp.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-07-07 14:56:02.225 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-07-07 14:56:02.229 -05:00 [INF] User logged in.
2025-07-07 14:56:02.231 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-07-07 14:56:02.233 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2025-07-07 14:56:02.235 -05:00 [INF] Executed page /Account/Login in 162.978ms
2025-07-07 14:56:02.255 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.HomeController.Index (VCashApp)'
2025-07-07 14:56:03.855 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 14:56:03.876 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: .
2025-07-07 14:56:03.879 -05:00 [WRN] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso denegado (Sin permiso '"View"' para vista 'RUD'). Roles del usuario: .
2025-07-07 14:56:03.882 -05:00 [INF] Authorization failed for the request at filter 'VCashApp.Filters.RequiredPermissionFilter'.
2025-07-07 14:56:03.884 -05:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-07-07 14:56:03.887 -05:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2025-07-07 14:56:03.898 -05:00 [INF] Executing endpoint '/Account/AccessDenied'
2025-07-07 14:56:03.903 -05:00 [INF] Executing handler method VCashApp.Areas.Identity.Pages.Account.AccessDeniedModel.OnGet - ModelState is "Valid"
2025-07-07 14:56:03.907 -05:00 [INF] Executed handler method OnGet, returned result .
2025-07-07 14:56:03.908 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-07-07 14:56:03.910 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-07-07 14:56:03.922 -05:00 [INF] Executed page /Account/AccessDenied in 19.0664ms
2025-07-07 14:56:08.722 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 14:56:08.739 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: .
2025-07-07 14:56:08.744 -05:00 [WRN] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso denegado (Sin permiso '"View"' para vista 'RUD'). Roles del usuario: .
2025-07-07 14:56:08.746 -05:00 [INF] Authorization failed for the request at filter 'VCashApp.Filters.RequiredPermissionFilter'.
2025-07-07 14:56:08.747 -05:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-07-07 14:56:08.748 -05:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2025-07-07 14:56:08.755 -05:00 [INF] Executing endpoint '/Account/AccessDenied'
2025-07-07 14:56:08.757 -05:00 [INF] Executing handler method VCashApp.Areas.Identity.Pages.Account.AccessDeniedModel.OnGet - ModelState is "Valid"
2025-07-07 14:56:08.759 -05:00 [INF] Executed handler method OnGet, returned result .
2025-07-07 14:56:08.760 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-07-07 14:56:08.761 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-07-07 14:56:08.769 -05:00 [INF] Executed page /Account/AccessDenied in 12.3662ms
2025-07-07 14:56:09.487 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 14:56:09.502 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: .
2025-07-07 14:56:09.504 -05:00 [WRN] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso denegado (Sin permiso '"View"' para vista 'RUD'). Roles del usuario: .
2025-07-07 14:56:09.507 -05:00 [INF] Authorization failed for the request at filter 'VCashApp.Filters.RequiredPermissionFilter'.
2025-07-07 14:56:09.509 -05:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-07-07 14:56:09.511 -05:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2025-07-07 14:56:09.519 -05:00 [INF] Executing endpoint '/Account/AccessDenied'
2025-07-07 14:56:09.520 -05:00 [INF] Executing handler method VCashApp.Areas.Identity.Pages.Account.AccessDeniedModel.OnGet - ModelState is "Valid"
2025-07-07 14:56:09.521 -05:00 [INF] Executed handler method OnGet, returned result .
2025-07-07 14:56:09.522 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-07-07 14:56:09.523 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-07-07 14:56:09.531 -05:00 [INF] Executed page /Account/AccessDenied in 10.8685ms
2025-07-07 14:57:35.338 -05:00 [INF] Executing endpoint '/Account/AccessDenied'
2025-07-07 14:57:35.340 -05:00 [INF] Executing handler method VCashApp.Areas.Identity.Pages.Account.AccessDeniedModel.OnGet - ModelState is "Valid"
2025-07-07 14:57:35.343 -05:00 [INF] Executed handler method OnGet, returned result .
2025-07-07 14:57:35.344 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-07-07 14:57:35.345 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-07-07 14:57:35.353 -05:00 [INF] Executed page /Account/AccessDenied in 12.7425ms
2025-07-07 14:57:38.997 -05:00 [INF] Executing endpoint '/Account/Logout'
2025-07-07 14:57:39.002 -05:00 [INF] Executing handler method VCashApp.Areas.Identity.Pages.Account.LogoutModel.OnPost - ModelState is "Valid"
2025-07-07 14:57:39.004 -05:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-07-07 14:57:39.005 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-07-07 14:57:39.007 -05:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-07-07 14:57:39.010 -05:00 [INF] User logged out.
2025-07-07 14:57:39.010 -05:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-07-07 14:57:39.011 -05:00 [INF] Executing LocalRedirectResult, redirecting to /Identity/Account/Login.
2025-07-07 14:57:39.012 -05:00 [INF] Executed page /Account/Logout in 11.1182ms
2025-07-07 14:57:39.025 -05:00 [INF] Executing endpoint '/Account/Login'
2025-07-07 14:57:39.027 -05:00 [INF] Executing handler method VCashApp.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-07-07 14:57:39.028 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-07-07 14:57:39.029 -05:00 [INF] Executed handler method OnGetAsync, returned result .
2025-07-07 14:57:39.030 -05:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-07-07 14:57:39.031 -05:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-07-07 14:57:39.035 -05:00 [INF] Executed page /Account/Login in 7.9439ms
2025-07-07 14:57:45.122 -05:00 [INF] Executing endpoint '/Account/Login'
2025-07-07 14:57:45.130 -05:00 [INF] Executing handler method VCashApp.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-07-07 14:57:45.224 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-07-07 14:57:45.226 -05:00 [INF] User logged in.
2025-07-07 14:57:45.227 -05:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-07-07 14:57:45.228 -05:00 [INF] Executing LocalRedirectResult, redirecting to /.
2025-07-07 14:57:45.229 -05:00 [INF] Executed page /Account/Login in 104.0139ms
2025-07-07 14:57:45.242 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.HomeController.Index (VCashApp)'
2025-07-07 14:57:50.589 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 14:57:50.601 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:57:50.605 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:57:50.610 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.612 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:57:50.615 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Rutas Diarias.
2025-07-07 14:57:50.621 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:57:50.623 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:57:50.627 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:50.629 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:50.635 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.637 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:57:50.638 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:57:50.641 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:50.644 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:50.647 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.649 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:57:50.650 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:57:50.651 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:50.653 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:50.657 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.659 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:57:50.660 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:57:50.661 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:57:50.662 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:57:50.663 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:57:50.675 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 14:57:50.687 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:57:50.693 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:57:50.698 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.700 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:57:50.713 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 14:57:50.720 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:57:50.723 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:57:50.725 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:50.728 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:50.731 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.733 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:57:50.733 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:57:50.735 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:50.737 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:50.741 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.743 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:57:50.745 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:57:50.746 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:50.748 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:50.751 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.753 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:57:50.754 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:57:50.757 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:57:50.758 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:57:50.759 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:57:50.819 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 0 | Respuesta: Acceso permitido | 
2025-07-07 14:57:50.940 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 14:57:50.950 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:57:50.954 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:57:50.962 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.967 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:57:50.974 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 14:57:50.984 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:57:50.986 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:57:50.987 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:50.992 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:50.995 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:50.997 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:57:50.998 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:57:51.000 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:51.002 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:51.006 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:51.010 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:57:51.011 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:57:51.013 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:51.015 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:51.018 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:51.020 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:57:51.022 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:57:51.026 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:57:51.027 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:57:51.028 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:57:51.060 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 0 | Respuesta: Acceso permitido | 
2025-07-07 14:57:51.063 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 14:57:51.065 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 2.3278ms.
2025-07-07 14:57:55.635 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GenerateRoutesForTomorrow (VCashApp)'
2025-07-07 14:57:55.652 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.GenerateRoutesForTomorrow (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:57:55.657 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:57:55.663 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:55.665 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.GenerateRoutesForTomorrow (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Create". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:57:56.192 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Generar Rutas | Cantidad: 16 | Fecha: "2025-07-08" | Respuesta: Éxito |
2025-07-07 14:57:56.210 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 14:57:56.218 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:57:56.223 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:57:56.227 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:56.229 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:57:56.231 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 14:57:56.238 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:57:56.240 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:57:56.241 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:56.244 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:56.247 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:56.249 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:57:56.250 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:57:56.251 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:56.253 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:56.257 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:56.259 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:57:56.260 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:57:56.261 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:56.264 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:56.267 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:56.269 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:57:56.270 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:57:56.272 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:57:56.273 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:57:56.273 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:57:56.286 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 14:57:56.390 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 14:57:56.399 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:57:56.403 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:57:56.408 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:56.412 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:57:56.414 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 14:57:56.424 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:57:56.426 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:57:56.428 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:56.430 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:56.434 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:56.437 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:57:56.439 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:57:56.441 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:56.443 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:56.448 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:56.450 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:57:56.452 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:57:56.455 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:57:56.459 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:57:56.463 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:57:56.466 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:57:56.467 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:57:56.468 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:57:56.469 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:57:56.471 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:57:56.484 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 14:57:56.487 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 14:57:56.500 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 12.6779ms.
2025-07-07 14:58:01.516 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 14:58:01.525 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 14:58:01.529 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 14:58:01.532 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:58:01.533 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 14:58:01.537 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 14:58:01.544 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 14:58:01.548 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 14:58:01.549 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:58:01.551 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:58:01.555 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:58:01.557 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 14:58:01.558 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 14:58:01.559 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:58:01.562 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:58:01.564 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:58:01.566 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 14:58:01.567 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 14:58:01.570 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 14:58:01.572 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 14:58:01.574 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 14:58:01.576 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 14:58:01.578 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 14:58:01.579 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 14:58:01.580 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 14:58:01.581 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 14:58:01.622 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000035 | Respuesta: Acceso permitido | 
2025-07-07 14:58:01.724 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 14:58:01.748 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 14:58:01.767 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:02:02.980 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:02:03.039 -05:00 [INF] warn: 07/07/2025 15:02:03.038 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:02:03.721 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:02:03.731 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:02:03.736 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:02:03.738 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:02:03.741 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:02:03.744 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:02:03.746 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:02:03.748 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:02:03.751 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:02:03.753 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:02:03.756 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:02:03.759 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:02:03.763 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:02:03.765 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:02:03.768 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:02:03.770 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:02:03.773 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:02:03.824 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:02:03.828 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:02:03.832 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:02:03.835 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:02:03.837 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:02:03.841 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:02:03.936 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:02:03.941 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:02:03.995 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:02:04.028 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:02:04.033 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:02:04.036 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:02:04.038 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:02:04.046 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:02:04.049 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:02:04.052 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:02:04.054 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:02:04.129 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:02:04.390 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:02:04.392 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:02:04.432 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:02:04.434 -05:00 [INF] Hosting environment: Development
2025-07-07 15:02:04.435 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:02:04.636 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:04.672 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:02:04.823 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:02:04.834 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:02:04.846 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:04.851 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:02:04.871 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:02:04.924 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:02:04.928 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:02:04.930 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:04.935 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:04.943 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:04.946 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:02:04.948 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:02:04.949 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:04.952 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:04.955 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:04.958 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:02:04.959 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:02:04.960 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:04.963 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:04.966 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:04.968 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:02:04.970 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:02:04.972 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:02:04.975 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:02:04.982 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:02:05.347 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:02:05.644 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:05.762 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:02:05.802 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:02:05.814 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:02:05.822 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:05.836 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:02:05.856 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:02:05.875 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:02:05.887 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:02:05.891 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:05.896 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:05.902 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:05.913 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:02:05.916 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:02:05.920 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:05.924 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:05.929 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:05.933 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:02:05.935 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:02:05.937 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:05.942 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:05.947 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:05.951 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:02:05.953 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:02:05.955 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:02:05.958 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:02:05.959 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:02:06.054 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:06.066 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000035 | Respuesta: Acceso permitido | 
2025-07-07 15:02:06.066 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:02:06.331 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:06.340 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:02:06.779 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:06.795 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:02:06.932 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:02:07.299 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:02:07.352 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:02:16.650 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:02:16.664 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:02:16.691 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:02:16.696 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:16.697 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:02:16.700 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:02:16.728 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:02:16.730 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:02:16.753 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:16.756 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:16.759 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:16.761 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:02:16.762 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:02:16.763 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:16.766 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:16.769 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:16.772 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:02:16.773 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:02:16.789 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:16.793 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:16.796 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:16.797 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:02:16.798 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:02:16.800 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:02:16.800 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:02:16.801 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:02:16.872 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000035 | Respuesta: Acceso permitido | 
2025-07-07 15:02:16.977 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:02:16.999 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:02:17.018 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:02:21.240 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:21.247 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:02:21.257 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:02:21.261 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:02:21.264 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:21.266 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:02:21.268 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:02:21.275 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:02:21.276 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:02:21.277 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:21.279 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:21.282 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:21.285 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:02:21.286 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:02:21.291 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:21.293 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:21.296 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:21.298 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:02:21.299 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:02:21.300 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:21.302 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:21.306 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:21.309 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:02:21.310 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:02:21.311 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:02:21.312 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:02:21.312 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:02:21.357 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:02:21.450 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:21.667 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:21.676 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:02:21.699 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:21.705 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:02:21.727 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:21.730 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:02:35.555 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:35.559 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:02:35.565 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:02:35.570 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:02:35.573 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:35.574 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:02:35.577 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:02:35.582 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:02:35.584 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:02:35.586 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:35.588 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:35.590 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:35.593 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:02:35.594 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:02:35.595 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:35.597 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:35.599 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:35.601 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:02:35.602 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:02:35.604 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:35.606 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:35.609 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:35.611 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:02:35.612 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:02:35.613 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:02:35.614 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:02:35.614 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:02:35.657 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:02:35.739 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:36.140 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:36.144 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:02:36.161 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:36.164 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:02:36.183 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:36.188 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:02:47.330 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:02:47.398 -05:00 [INF] warn: 07/07/2025 15:02:47.398 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:02:48.120 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:02:48.130 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:02:48.134 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:02:48.137 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:02:48.140 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:02:48.144 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:02:48.147 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:02:48.151 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:02:48.154 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:02:48.157 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:02:48.160 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:02:48.163 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:02:48.168 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:02:48.172 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:02:48.175 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:02:48.178 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:02:48.182 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:02:48.248 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:02:48.252 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:02:48.255 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:02:48.263 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:02:48.267 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:02:48.272 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:02:48.393 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:02:48.399 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:02:48.474 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:02:48.516 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:02:48.520 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:02:48.523 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:02:48.527 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:02:48.536 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:02:48.541 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:02:48.544 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:02:48.548 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:02:48.654 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:02:49.014 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:02:49.016 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:02:49.057 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:02:49.059 -05:00 [INF] Hosting environment: Development
2025-07-07 15:02:49.060 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:02:49.594 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:49.634 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:02:49.856 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:02:49.869 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:02:49.881 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:49.886 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:02:49.909 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:02:49.973 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:02:49.977 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:02:49.979 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:49.988 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:49.998 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:50.002 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:02:50.003 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:02:50.005 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:50.008 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:50.011 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:50.014 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:02:50.016 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:02:50.018 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:02:50.021 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:02:50.024 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:02:50.027 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:02:50.029 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:02:50.031 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:02:50.034 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:02:50.043 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:02:50.494 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:02:50.780 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:51.098 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:51.122 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:02:51.261 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:51.269 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:02:51.316 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:02:51.323 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:06:28.549 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:06:28.609 -05:00 [INF] warn: 07/07/2025 15:06:28.608 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:06:29.378 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:06:29.391 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:06:29.395 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:06:29.400 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:06:29.403 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:06:29.407 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:06:29.411 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:06:29.415 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:06:29.420 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:06:29.425 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:06:29.430 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:06:29.434 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:06:29.439 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:06:29.444 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:06:29.449 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:06:29.453 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:06:29.458 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:06:29.518 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:06:29.523 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:06:29.527 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:06:29.531 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:06:29.535 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:06:29.539 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:06:29.657 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:06:29.664 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:06:29.732 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:06:29.774 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:06:29.779 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:06:29.783 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:06:29.788 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:06:29.798 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:06:29.804 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:06:29.808 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:06:29.813 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:06:29.959 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:06:30.359 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:06:30.361 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:06:30.394 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:06:30.397 -05:00 [INF] Hosting environment: Development
2025-07-07 15:06:30.398 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:06:30.895 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:06:30.930 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:06:31.075 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:06:31.086 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:06:31.098 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:06:31.104 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:06:31.135 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:06:31.196 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:06:31.199 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:06:31.201 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:06:31.211 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:06:31.221 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:06:31.225 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:06:31.226 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:06:31.228 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:06:31.231 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:06:31.234 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:06:31.236 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:06:31.238 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:06:31.241 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:06:31.244 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:06:31.248 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:06:31.251 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:06:31.253 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:06:31.254 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:06:31.260 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:06:31.268 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:06:31.748 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:06:32.115 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:06:32.468 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:06:32.500 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:06:32.627 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:06:32.633 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:06:32.694 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:06:32.700 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:06:32.761 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:06:32.768 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:06:40.957 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:06:40.970 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:06:40.975 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:06:40.980 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:06:40.982 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:06:40.985 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:06:40.994 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:06:40.996 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:06:40.998 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:06:41.001 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:06:41.005 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:06:41.008 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:06:41.010 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:06:41.011 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:06:41.014 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:06:41.017 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:06:41.019 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:06:41.020 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:06:41.023 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:06:41.026 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:06:41.028 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:06:41.031 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:06:41.032 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:06:41.033 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:06:41.034 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:06:41.035 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:06:41.109 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000035 | Respuesta: Acceso permitido | 
2025-07-07 15:06:41.275 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:06:41.307 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:06:41.328 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:06:41.350 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:07:50.824 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:07:50.905 -05:00 [INF] warn: 07/07/2025 15:07:50.905 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:07:51.963 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:07:51.978 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:07:51.981 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:07:51.985 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:07:51.988 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:07:51.992 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:07:51.996 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:07:51.999 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:07:52.002 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:07:52.005 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:07:52.009 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:07:52.014 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:07:52.019 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:07:52.022 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:07:52.026 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:07:52.030 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:07:52.033 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:07:52.132 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:07:52.135 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:07:52.138 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:07:52.142 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:07:52.145 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:07:52.148 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:07:52.297 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:07:52.304 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:07:52.413 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:07:52.516 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:07:52.521 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:07:52.528 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:07:52.533 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:07:52.552 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:07:52.556 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:07:52.562 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:07:52.567 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:07:52.762 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:07:53.194 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:07:53.196 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:07:53.234 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:07:53.236 -05:00 [INF] Hosting environment: Development
2025-07-07 15:07:53.238 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:07:53.659 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:07:53.819 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:07:53.830 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:07:53.842 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:07:53.847 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:07:53.878 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:07:53.948 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:07:53.952 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:07:53.955 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:07:53.963 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:07:53.973 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:07:53.976 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:07:53.978 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:07:53.980 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:07:53.982 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:07:53.986 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:07:53.988 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:07:53.990 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:07:53.992 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:07:53.995 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:07:53.998 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:07:54.000 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:07:54.002 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:07:54.004 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:07:54.007 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:07:54.016 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:07:54.493 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000035 | Respuesta: Acceso permitido | 
2025-07-07 15:07:54.899 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:07:55.018 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:07:55.063 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:07:55.096 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:07:58.015 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:07:58.027 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:07:58.038 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:07:58.045 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:07:58.049 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:07:58.051 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:07:58.055 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:07:58.064 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:07:58.067 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:07:58.069 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:07:58.076 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:07:58.081 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:07:58.084 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:07:58.085 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:07:58.087 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:07:58.089 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:07:58.093 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:07:58.095 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:07:58.096 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:07:58.097 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:07:58.100 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:07:58.103 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:07:58.105 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:07:58.107 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:07:58.109 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:07:58.110 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:07:58.111 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:07:58.179 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:07:58.258 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:07:58.850 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:07:58.859 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:07:58.907 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:07:58.915 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:07:58.947 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:07:58.954 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:07:58.990 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:07:58.999 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:08:36.827 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:08:36.885 -05:00 [INF] warn: 07/07/2025 15:08:36.884 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:08:37.840 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:08:37.852 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:08:37.856 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:08:37.858 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:08:37.860 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:08:37.863 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:08:37.866 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:08:37.869 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:08:37.872 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:08:37.875 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:08:37.877 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:08:37.880 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:08:37.884 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:08:37.887 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:08:37.890 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:08:37.893 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:08:37.896 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:08:37.962 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:08:37.966 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:08:37.971 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:08:37.974 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:08:37.977 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:08:37.982 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:08:38.124 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:08:38.129 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:08:38.221 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:08:38.267 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:08:38.272 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:08:38.275 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:08:38.279 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:08:38.289 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:08:38.293 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:08:38.297 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:08:38.301 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:08:38.412 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:08:38.937 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:08:38.939 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:08:38.996 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:08:38.998 -05:00 [INF] Hosting environment: Development
2025-07-07 15:08:39.000 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:08:39.904 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:08:39.936 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:08:40.102 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 127.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:08:40.113 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:08:40.127 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:08:40.132 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 127.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:08:40.155 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:08:40.213 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:08:40.217 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:08:40.219 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:08:40.226 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:08:40.237 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:08:40.240 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:08:40.242 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:08:40.244 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:08:40.247 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:08:40.251 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:08:40.254 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:08:40.255 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:08:40.257 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:08:40.260 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:08:40.263 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:08:40.266 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:08:40.267 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:08:40.269 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:08:40.272 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:08:40.279 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:08:40.723 -05:00 [INF] | Usuario: planeador1 | Ip: 127.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:08:41.054 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:08:41.407 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:08:41.441 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:08:41.554 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:08:41.560 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:08:41.598 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:08:41.604 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:08:41.638 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:08:41.643 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:10:20.749 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:10:20.808 -05:00 [INF] warn: 07/07/2025 15:10:20.807 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:10:22.142 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:10:22.157 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:10:22.161 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:10:22.165 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:10:22.168 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:10:22.171 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:10:22.175 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:10:22.179 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:10:22.182 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:10:22.186 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:10:22.190 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:10:22.194 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:10:22.198 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:10:22.202 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:10:22.206 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:10:22.210 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:10:22.213 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:10:22.298 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:10:22.302 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:10:22.306 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:10:22.309 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:10:22.313 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:10:22.317 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:10:22.470 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:10:22.506 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:10:22.610 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:10:22.669 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:10:22.673 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:10:22.677 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:10:22.681 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:10:22.697 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:10:22.700 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:10:22.702 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:10:22.705 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:10:22.882 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:10:23.447 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:10:23.449 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:10:23.502 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:10:23.504 -05:00 [INF] Hosting environment: Development
2025-07-07 15:10:23.506 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:10:23.960 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:10:23.984 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:10:23.984 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:10:24.197 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:10:24.197 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:10:24.210 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:10:24.210 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:10:24.223 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:10:24.223 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:10:24.227 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:10:24.231 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:10:24.254 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:10:24.254 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:10:24.331 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:10:24.331 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:10:24.336 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:10:24.336 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:10:24.339 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:10:24.341 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:10:24.352 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:10:24.352 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:10:24.367 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:10:24.367 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:10:24.370 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:10:24.373 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:10:24.375 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:10:24.376 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:10:24.380 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:10:24.382 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:10:24.387 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:10:24.388 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:10:24.391 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:10:24.394 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:10:24.395 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:10:24.400 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:10:24.402 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:10:24.404 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:10:24.406 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:10:24.408 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:10:24.412 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:10:24.414 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:10:24.417 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:10:24.419 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:10:24.421 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:10:24.425 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:10:24.427 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:10:24.428 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:10:24.431 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:10:24.433 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:10:24.436 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:10:24.437 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:10:24.448 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:10:24.448 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:10:25.174 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:10:25.175 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000035 | Respuesta: Acceso permitido | 
2025-07-07 15:10:25.966 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:10:26.032 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:10:26.238 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:10:26.339 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:10:27.015 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:10:27.041 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:10:27.065 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:10:27.080 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:10:27.087 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:10:27.115 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:10:27.121 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:10:27.148 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:10:27.155 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:25:19.592 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:25:19.700 -05:00 [INF] warn: 07/07/2025 15:25:19.699 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:25:20.913 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:25:20.926 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:25:20.930 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:25:20.934 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:25:20.937 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:25:20.941 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:25:20.945 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:25:20.949 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:25:20.952 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:25:20.956 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:25:20.960 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:25:20.964 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:25:20.968 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:25:20.973 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:25:20.977 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:25:20.981 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:25:20.985 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:25:21.056 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:25:21.062 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:25:21.065 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:25:21.067 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:25:21.070 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:25:21.074 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:25:21.197 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:25:21.202 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:25:21.270 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:25:21.334 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:25:21.338 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:25:21.342 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:25:21.346 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:25:21.359 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:25:21.363 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:25:21.366 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:25:21.369 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:25:21.573 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:25:22.044 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:25:22.045 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:25:22.100 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:25:22.103 -05:00 [INF] Hosting environment: Development
2025-07-07 15:25:22.105 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:25:22.283 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:25:22.321 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:25:22.489 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:25:22.503 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:25:22.517 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:25:22.523 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:25:22.552 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:25:22.611 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:25:22.615 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:25:22.617 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:25:22.625 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:25:22.634 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:25:22.638 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:25:22.639 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:25:22.642 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:25:22.645 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:25:22.648 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:25:22.650 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:25:22.651 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:25:22.653 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:25:22.656 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:25:22.659 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:25:22.662 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:25:22.663 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:25:22.665 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:25:22.668 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:25:22.676 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:25:23.085 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:25:23.472 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:25:23.895 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:25:23.926 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:25:24.035 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:25:24.042 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:25:24.130 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:25:24.137 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:25:24.190 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:25:24.197 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:26:02.814 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:26:02.917 -05:00 [INF] warn: 07/07/2025 15:26:02.910 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:26:04.298 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:26:04.312 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:26:04.316 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:26:04.320 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:26:04.324 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:26:04.329 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:26:04.334 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:26:04.338 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:26:04.342 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:26:04.346 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:26:04.350 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:26:04.354 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:26:04.358 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:26:04.361 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:26:04.364 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:26:04.368 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:26:04.372 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:26:04.464 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:26:04.469 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:26:04.473 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:26:04.478 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:26:04.482 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:26:04.489 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:26:04.681 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:26:04.689 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:26:04.776 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:26:04.825 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:26:04.830 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:26:04.835 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:26:04.839 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:26:04.850 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:26:04.855 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:26:04.859 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:26:04.862 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:26:04.997 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:26:05.387 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:26:05.389 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:26:05.440 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:26:05.442 -05:00 [INF] Hosting environment: Development
2025-07-07 15:26:05.451 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:26:05.642 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:26:05.681 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:26:05.871 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:26:05.883 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:26:05.898 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:26:05.904 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:26:05.929 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:26:06.025 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:26:06.029 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:26:06.031 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:26:06.043 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:26:06.057 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:26:06.060 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:26:06.061 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:26:06.063 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:26:06.068 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:26:06.073 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:26:06.076 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:26:06.077 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:26:06.080 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:26:06.085 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:26:06.089 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:26:06.091 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:26:06.093 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:26:06.095 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:26:06.100 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:26:06.110 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:26:06.561 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:26:06.830 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:26:07.272 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:26:07.295 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:26:07.394 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:26:07.401 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:26:07.451 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:26:07.456 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:26:07.505 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:26:07.520 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:27:07.162 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:27:07.178 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:27:07.182 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:27:07.187 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:27:07.190 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:27:07.194 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:27:07.202 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:27:07.205 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:27:07.207 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:27:07.210 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:27:07.213 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:27:07.215 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:27:07.216 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:27:07.218 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:27:07.221 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:27:07.224 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:27:07.226 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:27:07.227 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:27:07.228 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:27:07.231 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:27:07.234 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:27:07.237 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:27:07.239 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:27:07.240 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:27:07.241 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:27:07.241 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:27:07.331 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000035 | Respuesta: Acceso permitido | 
2025-07-07 15:27:07.563 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:27:07.595 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:27:07.651 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:27:07.679 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:46:45.553 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:46:45.624 -05:00 [INF] warn: 07/07/2025 15:46:45.623 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:46:47.105 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:46:47.123 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:46:47.128 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:46:47.135 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:46:47.139 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:46:47.144 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:46:47.149 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:46:47.153 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:46:47.157 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:46:47.161 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:46:47.165 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:46:47.169 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:46:47.172 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:46:47.175 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:46:47.178 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:46:47.182 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:46:47.186 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:46:47.275 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:46:47.280 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:46:47.284 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:46:47.287 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:46:47.291 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:46:47.295 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:46:47.538 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:46:47.543 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:46:47.637 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:46:47.676 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:46:47.681 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:46:47.684 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:46:47.687 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:46:47.696 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:46:47.699 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:46:47.702 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:46:47.705 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:46:47.834 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:46:48.212 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:46:48.214 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:46:48.256 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:46:48.258 -05:00 [INF] Hosting environment: Development
2025-07-07 15:46:48.259 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:46:48.450 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:46:48.632 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 127.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:46:48.647 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:46:48.658 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:46:48.664 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 127.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:46:48.693 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:46:48.768 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:46:48.772 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:46:48.798 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:46:48.806 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:46:48.819 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:46:48.822 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:46:48.823 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:46:48.825 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:46:48.828 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:46:48.832 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:46:48.835 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:46:48.836 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:46:48.838 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:46:48.841 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:46:48.844 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:46:48.848 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:46:48.850 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:46:48.852 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:46:48.855 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:46:48.869 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:46:49.130 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador2
2025-07-07 15:46:49.134 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000035, Sucursal: 2, TipoVehiculo: B
2025-07-07 15:46:49.237 -05:00 [INF] | Usuario: planeador2 | Ip: 127.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000035 | Respuesta: Acceso permitido | 
2025-07-07 15:46:49.849 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:46:49.959 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:46:50.006 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:46:50.046 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:46:53.189 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:46:53.202 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:46:53.207 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:46:53.211 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:46:53.215 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:46:53.218 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:46:53.227 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:46:53.230 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:46:53.232 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:46:53.235 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:46:53.239 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:46:53.241 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:46:53.242 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:46:53.244 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:46:53.249 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:46:53.256 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:46:53.258 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:46:53.259 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:46:53.262 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:46:53.265 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:46:53.268 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:46:53.271 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:46:53.272 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:46:53.273 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:46:53.273 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:46:53.274 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:46:53.292 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 15:46:53.294 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000018, Sucursal: 1, TipoVehiculo: B
2025-07-07 15:46:53.304 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:46:53.398 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:46:53.917 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:46:53.922 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:46:53.947 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:46:53.951 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:46:53.970 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:46:53.974 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:46:53.994 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:46:53.999 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:48:11.902 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:48:11.961 -05:00 [INF] warn: 07/07/2025 15:48:11.960 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:48:12.916 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:48:12.935 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:48:12.939 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:48:12.943 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:48:12.947 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:48:12.952 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:48:12.956 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:48:12.960 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:48:12.966 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:48:12.970 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:48:12.974 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:48:12.977 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:48:12.981 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:48:12.985 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:48:12.989 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:48:12.994 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:48:12.998 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:48:13.084 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:48:13.087 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:48:13.091 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:48:13.095 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:48:13.098 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:48:13.103 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:48:13.243 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:48:13.249 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:48:13.328 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:48:13.371 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:48:13.375 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:48:13.378 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:48:13.382 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:48:13.395 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:48:13.398 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:48:13.403 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:48:13.406 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:48:13.512 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:48:13.888 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:48:13.890 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:48:13.931 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:48:13.933 -05:00 [INF] Hosting environment: Development
2025-07-07 15:48:13.935 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:48:14.238 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:48:14.261 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:48:14.261 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:48:14.432 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:48:14.433 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:48:14.443 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:48:14.444 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:48:14.456 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:48:14.459 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:48:14.462 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador2 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:48:14.466 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:48:14.488 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:48:14.488 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:48:14.546 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:48:14.546 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:48:14.552 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:48:14.551 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:48:14.553 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:48:14.556 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:48:14.561 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:48:14.561 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:48:14.571 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:48:14.571 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:48:14.575 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:48:14.578 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:48:14.579 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:48:14.581 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:48:14.584 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:48:14.585 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:48:14.588 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:48:14.589 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:48:14.591 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:48:14.592 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:48:14.594 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:48:14.597 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:48:14.599 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:48:14.600 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:48:14.602 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:48:14.604 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:48:14.606 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:48:14.607 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:48:14.609 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:48:14.611 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:48:14.612 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:48:14.616 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:48:14.617 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:48:14.618 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:48:14.620 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:48:14.621 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:48:14.624 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:48:14.624 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:48:14.633 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:48:14.633 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:48:14.848 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 15:48:14.848 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador2
2025-07-07 15:48:14.851 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000018, Sucursal: 1, TipoVehiculo: B
2025-07-07 15:48:14.852 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000035, Sucursal: 2, TipoVehiculo: B
2025-07-07 15:48:14.937 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:48:14.938 -05:00 [INF] | Usuario: planeador2 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000035 | Respuesta: Acceso permitido | 
2025-07-07 15:48:15.337 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:48:15.439 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:48:15.621 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:48:15.690 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:48:15.756 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:48:15.781 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:48:15.792 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:48:15.822 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:48:15.833 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:48:15.863 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:48:15.873 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 15:48:15.906 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:48:15.915 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 15:49:57.481 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:49:57.579 -05:00 [INF] warn: 07/07/2025 15:49:57.578 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 15:49:59.821 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 15:49:59.834 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 15:49:59.839 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 15:49:59.842 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 15:49:59.846 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 15:49:59.850 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 15:49:59.854 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 15:49:59.858 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 15:49:59.862 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 15:49:59.865 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 15:49:59.869 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 15:49:59.873 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 15:49:59.876 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 15:49:59.880 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 15:49:59.884 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 15:49:59.888 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 15:49:59.892 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 15:50:00.008 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 15:50:00.020 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 15:50:00.025 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 15:50:00.031 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 15:50:00.035 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 15:50:00.040 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 15:50:00.243 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 15:50:00.253 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 15:50:00.362 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 15:50:00.408 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 15:50:00.413 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 15:50:00.417 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 15:50:00.420 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 15:50:00.431 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 15:50:00.434 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 15:50:00.439 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 15:50:00.474 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 15:50:00.646 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 15:50:01.133 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 15:50:01.135 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 15:50:01.255 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 15:50:01.279 -05:00 [INF] Hosting environment: Development
2025-07-07 15:50:01.325 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 15:50:01.654 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:50:01.701 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 15:50:02.152 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 15:50:02.166 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 15:50:02.183 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:50:02.190 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 15:50:02.229 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 15:50:02.311 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 15:50:02.319 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 15:50:02.323 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:50:02.331 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:50:02.343 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:50:02.347 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 15:50:02.349 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 15:50:02.351 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:50:02.354 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:50:02.359 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:50:02.362 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 15:50:02.363 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 15:50:02.366 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 15:50:02.369 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 15:50:02.374 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 15:50:02.378 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 15:50:02.380 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 15:50:02.383 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 15:50:02.387 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 15:50:02.401 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 15:50:02.755 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 15:50:02.758 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000018, Sucursal: 1, TipoVehiculo: B
2025-07-07 15:50:02.855 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000018 | Respuesta: Acceso permitido | 
2025-07-07 15:50:03.415 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:50:03.754 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:50:03.782 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 15:50:04.130 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:50:04.170 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 15:50:04.272 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 15:50:04.280 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:06:18.227 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:06:18.294 -05:00 [INF] warn: 07/07/2025 16:06:18.293 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:06:19.236 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 16:06:19.258 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 16:06:19.262 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 16:06:19.265 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 16:06:19.278 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 16:06:19.296 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 16:06:19.326 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 16:06:19.330 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 16:06:19.333 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 16:06:19.337 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 16:06:19.341 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 16:06:19.345 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 16:06:19.352 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 16:06:19.383 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 16:06:19.387 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 16:06:19.391 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 16:06:19.412 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 16:06:19.489 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 16:06:19.493 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 16:06:19.496 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 16:06:19.499 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 16:06:19.501 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 16:06:19.507 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 16:06:19.646 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 16:06:19.651 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 16:06:19.721 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 16:06:19.762 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 16:06:19.767 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 16:06:19.770 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 16:06:19.774 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 16:06:19.784 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 16:06:19.788 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 16:06:19.795 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 16:06:19.798 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 16:06:19.929 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 16:06:20.301 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 16:06:20.303 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 16:06:20.346 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 16:06:20.348 -05:00 [INF] Hosting environment: Development
2025-07-07 16:06:20.349 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 16:06:21.077 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:06:21.118 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.HomeController.Index (VCashApp)'
2025-07-07 16:06:24.271 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:06:24.281 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 16:06:24.329 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:06:24.339 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:06:24.350 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.355 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:06:24.380 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Rutas Diarias.
2025-07-07 16:06:24.439 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:06:24.443 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:06:24.445 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:24.451 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:24.460 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.463 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:06:24.464 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:06:24.465 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:24.468 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:24.472 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.475 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:06:24.476 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:06:24.477 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:24.480 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:24.483 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.485 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:06:24.486 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:06:24.488 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:06:24.491 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:06:24.498 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:06:24.517 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:06:24.532 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:06:24.550 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:06:24.556 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:06:24.560 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.562 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:06:24.575 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:06:24.586 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:06:24.589 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:06:24.591 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:24.594 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:24.597 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.599 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:06:24.600 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:06:24.601 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:24.604 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:24.609 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.611 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:06:24.612 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:06:24.613 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:24.616 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:24.619 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.621 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:06:24.623 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:06:24.624 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:06:24.625 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:06:24.625 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:06:24.767 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:06:24.935 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:06:24.941 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:06:24.955 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:06:24.961 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:06:24.965 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.968 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:06:24.973 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:06:24.982 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:06:24.984 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:06:24.985 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:24.989 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:24.994 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:24.997 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:06:24.998 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:06:24.999 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:25.002 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:25.005 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:25.009 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:06:25.011 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:06:25.012 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:25.014 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:25.017 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:25.020 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:06:25.022 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:06:25.025 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:06:25.027 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:06:25.028 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:06:25.055 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:06:25.059 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 16:06:25.077 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 17.6274ms.
2025-07-07 16:06:26.877 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:06:26.883 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:06:26.900 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:06:26.908 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:06:26.911 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:26.914 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:06:26.923 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:06:26.930 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:06:26.931 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:06:26.933 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:26.936 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:26.940 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:26.943 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:06:26.944 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:06:26.946 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:26.948 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:26.952 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:26.956 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:06:26.957 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:06:26.959 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:06:26.962 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:06:26.965 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:06:26.967 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:06:26.969 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:06:26.972 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:06:26.973 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:06:26.975 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:06:27.070 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:06:27.074 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:06:27.115 -05:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@__permittedSucursales_0='[1]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[CodSucursal], [a].[CoSucursal], [a].[CodBancoRepublica], [a].[Estado], [a].[LatitudSucursal], [a].[LongitudSucursal], [a].[NombreSucursal], [a].[SiglasSucursal]
FROM [AdmSucursales] AS [a]
WHERE [a].[Estado] = CAST(1 AS bit) AND [a].[CodSucursal] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__permittedSucursales_0) WITH ([value] int '$') AS [p]
)
2025-07-07 16:06:27.120 -05:00 [INF] fail: 07/07/2025 16:06:27.120 RelationalEventId.CommandError[20102] (Microsoft.EntityFrameworkCore.Database.Command) 
      Failed executing DbCommand (4ms) [Parameters=[@__permittedSucursales_0='[1]' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [a].[CodSucursal], [a].[CoSucursal], [a].[CodBancoRepublica], [a].[Estado], [a].[LatitudSucursal], [a].[LongitudSucursal], [a].[NombreSucursal], [a].[SiglasSucursal]
      FROM [AdmSucursales] AS [a]
      WHERE [a].[Estado] = CAST(1 AS bit) AND [a].[CodSucursal] IN (
          SELECT [p].[value]
          FROM OPENJSON(@__permittedSucursales_0) WITH ([value] int '$') AS [p]
      )
2025-07-07 16:06:27.131 -05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'VCashApp.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec708149-97e6-488b-9be8-3a2413d425cf
Error Number:156,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec708149-97e6-488b-9be8-3a2413d425cf
Error Number:156,State:1,Class:15
2025-07-07 16:06:27.150 -05:00 [INF] fail: 07/07/2025 16:06:27.150 CoreEventId.QueryIterationFailed[10100] (Microsoft.EntityFrameworkCore.Query) 
      An exception occurred while iterating over the results of a query for context type 'VCashApp.Data.AppDbContext'.
      Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
      Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
         at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
         at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
      --- End of stack trace from previous location ---
         at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
         at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
      --- End of stack trace from previous location ---
         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
      ClientConnectionId:ec708149-97e6-488b-9be8-3a2413d425cf
      Error Number:156,State:1,Class:15
2025-07-07 16:06:27.157 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at VCashApp.Controllers.RutasDiariasController.LoadEditViewBags(TdvRutaDiaria ruta, ApplicationUser currentUser, List`1 permittedSucursales) in C:\Users\hamirrocha\source\repos\VCashApp\Controllers\RutasDiariasController.cs:line 838
   at VCashApp.Controllers.RutasDiariasController.Edit(String id) in C:\Users\hamirrocha\source\repos\VCashApp\Controllers\RutasDiariasController.cs:line 813
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:ec708149-97e6-488b-9be8-3a2413d425cf
Error Number:156,State:1,Class:15
2025-07-07 16:07:20.809 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:07:20.891 -05:00 [INF] warn: 07/07/2025 16:07:20.890 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:07:22.103 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 16:07:22.130 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 16:07:22.134 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 16:07:22.140 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 16:07:22.144 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 16:07:22.153 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 16:07:22.157 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 16:07:22.164 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 16:07:22.168 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 16:07:22.173 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 16:07:22.177 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 16:07:22.185 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 16:07:22.195 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 16:07:22.200 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 16:07:22.205 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 16:07:22.209 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 16:07:22.216 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 16:07:22.332 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 16:07:22.336 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 16:07:22.340 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 16:07:22.343 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 16:07:22.346 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 16:07:22.350 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 16:07:22.509 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 16:07:22.515 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 16:07:22.606 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 16:07:22.661 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 16:07:22.666 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 16:07:22.670 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 16:07:22.674 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 16:07:22.686 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 16:07:22.690 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 16:07:22.694 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 16:07:22.698 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 16:07:22.846 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 16:07:23.307 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 16:07:23.311 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 16:07:23.366 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 16:07:23.368 -05:00 [INF] Hosting environment: Development
2025-07-07 16:07:23.369 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 16:07:23.627 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:07:23.675 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:07:23.871 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:07:23.886 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:07:23.901 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:07:23.907 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:07:23.950 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:07:24.033 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:07:24.038 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:07:24.041 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:07:24.048 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:07:24.060 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:07:24.063 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:07:24.065 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:07:24.067 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:07:24.070 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:07:24.075 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:07:24.078 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:07:24.080 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:07:24.083 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:07:24.086 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:07:24.091 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:07:24.094 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:07:24.097 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:07:24.100 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:07:24.104 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:07:24.117 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:07:24.441 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:07:24.444 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:07:24.512 -05:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@__permittedSucursales_0='[1]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[CodSucursal], [a].[CoSucursal], [a].[CodBancoRepublica], [a].[Estado], [a].[LatitudSucursal], [a].[LongitudSucursal], [a].[NombreSucursal], [a].[SiglasSucursal]
FROM [AdmSucursales] AS [a]
WHERE [a].[Estado] = CAST(1 AS bit) AND [a].[CodSucursal] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__permittedSucursales_0) WITH ([value] int '$') AS [p]
)
2025-07-07 16:07:24.517 -05:00 [INF] fail: 07/07/2025 16:07:24.517 RelationalEventId.CommandError[20102] (Microsoft.EntityFrameworkCore.Database.Command) 
      Failed executing DbCommand (9ms) [Parameters=[@__permittedSucursales_0='[1]' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [a].[CodSucursal], [a].[CoSucursal], [a].[CodBancoRepublica], [a].[Estado], [a].[LatitudSucursal], [a].[LongitudSucursal], [a].[NombreSucursal], [a].[SiglasSucursal]
      FROM [AdmSucursales] AS [a]
      WHERE [a].[Estado] = CAST(1 AS bit) AND [a].[CodSucursal] IN (
          SELECT [p].[value]
          FROM OPENJSON(@__permittedSucursales_0) WITH ([value] int '$') AS [p]
      )
2025-07-07 16:07:24.530 -05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'VCashApp.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c1090373-ce3d-4414-b074-e4d8309142dc
Error Number:156,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c1090373-ce3d-4414-b074-e4d8309142dc
Error Number:156,State:1,Class:15
2025-07-07 16:07:24.547 -05:00 [INF] fail: 07/07/2025 16:07:24.547 CoreEventId.QueryIterationFailed[10100] (Microsoft.EntityFrameworkCore.Query) 
      An exception occurred while iterating over the results of a query for context type 'VCashApp.Data.AppDbContext'.
      Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
      Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
         at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
         at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
         at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
      --- End of stack trace from previous location ---
         at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
         at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
      --- End of stack trace from previous location ---
         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
      ClientConnectionId:c1090373-ce3d-4414-b074-e4d8309142dc
      Error Number:156,State:1,Class:15
2025-07-07 16:07:24.564 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at VCashApp.Controllers.RutasDiariasController.LoadEditViewBags(TdvRutaDiaria ruta, ApplicationUser currentUser, List`1 permittedSucursales) in C:\Users\hamirrocha\source\repos\VCashApp\Controllers\RutasDiariasController.cs:line 843
   at VCashApp.Controllers.RutasDiariasController.Edit(String id) in C:\Users\hamirrocha\source\repos\VCashApp\Controllers\RutasDiariasController.cs:line 813
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:c1090373-ce3d-4414-b074-e4d8309142dc
Error Number:156,State:1,Class:15
2025-07-07 16:07:47.795 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:07:47.882 -05:00 [INF] warn: 07/07/2025 16:07:47.881 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:07:49.029 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 16:07:49.046 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 16:07:49.121 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 16:07:49.130 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 16:07:49.135 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 16:07:49.140 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 16:07:49.146 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 16:07:49.149 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 16:07:49.170 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 16:07:49.188 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 16:07:49.194 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 16:07:49.198 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 16:07:49.200 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 16:07:49.203 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 16:07:49.207 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 16:07:49.211 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 16:07:49.215 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 16:07:49.325 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 16:07:49.330 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 16:07:49.335 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 16:07:49.344 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 16:07:49.348 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 16:07:49.354 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 16:07:49.520 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 16:07:49.529 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 16:07:49.605 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 16:07:49.651 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 16:07:49.656 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 16:07:49.659 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 16:07:49.662 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 16:07:49.672 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 16:07:49.677 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 16:07:49.680 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 16:07:49.683 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 16:07:49.820 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 16:07:50.195 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 16:07:50.198 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 16:07:50.241 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 16:07:50.243 -05:00 [INF] Hosting environment: Development
2025-07-07 16:07:50.244 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 16:07:50.600 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:07:50.653 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:07:50.849 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:07:50.861 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:07:50.873 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:07:50.877 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:07:50.903 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:07:50.966 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:07:50.971 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:07:50.975 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:07:50.981 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:07:50.990 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:07:50.994 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:07:50.995 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:07:50.997 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:07:51.000 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:07:51.005 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:07:51.008 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:07:51.010 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:07:51.012 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:07:51.016 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:07:51.020 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:07:51.024 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:07:51.026 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:07:51.028 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:07:51.031 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:07:51.041 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:07:51.284 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:07:51.287 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:07:51.381 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000019 | Respuesta: Acceso permitido | 
2025-07-07 16:07:51.982 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:07:51.995 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:07:52.094 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:07:52.126 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:07:52.183 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:07:52.191 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:08:04.238 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:08:04.295 -05:00 [INF] warn: 07/07/2025 16:08:04.294 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:08:05.296 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 16:08:05.336 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 16:08:05.340 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 16:08:05.343 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 16:08:05.346 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 16:08:05.377 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 16:08:05.381 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 16:08:05.384 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 16:08:05.387 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 16:08:05.390 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 16:08:05.393 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 16:08:05.395 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 16:08:05.398 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 16:08:05.401 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 16:08:05.404 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 16:08:05.407 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 16:08:05.442 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 16:08:05.582 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 16:08:05.587 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 16:08:05.591 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 16:08:05.595 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 16:08:05.599 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 16:08:05.606 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 16:08:05.773 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 16:08:05.780 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 16:08:05.878 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 16:08:05.927 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 16:08:05.931 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 16:08:05.935 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 16:08:05.939 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 16:08:05.948 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 16:08:05.953 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 16:08:05.957 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 16:08:05.961 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 16:08:06.094 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 16:08:06.584 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 16:08:06.586 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 16:08:06.641 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 16:08:06.643 -05:00 [INF] Hosting environment: Development
2025-07-07 16:08:06.644 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 16:08:07.323 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:08:07.360 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:08:07.543 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:08:07.556 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:08:07.570 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:08:07.574 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:08:07.598 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:08:07.689 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:08:07.695 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:08:07.697 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:08:07.708 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:08:07.721 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:08:07.724 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:08:07.726 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:08:07.728 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:08:07.731 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:08:07.736 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:08:07.740 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:08:07.741 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:08:07.744 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:08:07.747 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:08:07.751 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:08:07.754 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:08:07.756 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:08:07.759 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:08:07.763 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:08:07.777 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:08:08.033 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:08:08.036 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:08:08.093 -05:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__permittedSucursales_0='[1]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[CodSucursal], [a].[CoSucursal], [a].[CodBancoRepublica], [a].[Estado], [a].[LatitudSucursal], [a].[LongitudSucursal], [a].[NombreSucursal], [a].[SiglasSucursal]
FROM [AdmSucursales] AS [a]
WHERE [a].[Estado] = CAST(1 AS bit) AND [a].[CodSucursal] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__permittedSucursales_0) WITH ([value] int '$') AS [p]
)
2025-07-07 16:08:08.098 -05:00 [INF] fail: 07/07/2025 16:08:08.098 RelationalEventId.CommandError[20102] (Microsoft.EntityFrameworkCore.Database.Command) 
      Failed executing DbCommand (5ms) [Parameters=[@__permittedSucursales_0='[1]' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [a].[CodSucursal], [a].[CoSucursal], [a].[CodBancoRepublica], [a].[Estado], [a].[LatitudSucursal], [a].[LongitudSucursal], [a].[NombreSucursal], [a].[SiglasSucursal]
      FROM [AdmSucursales] AS [a]
      WHERE [a].[Estado] = CAST(1 AS bit) AND [a].[CodSucursal] IN (
          SELECT [p].[value]
          FROM OPENJSON(@__permittedSucursales_0) WITH ([value] int '$') AS [p]
      )
2025-07-07 16:08:08.111 -05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'VCashApp.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:013f7063-5d21-437e-aacf-f25ea996a786
Error Number:156,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:013f7063-5d21-437e-aacf-f25ea996a786
Error Number:156,State:1,Class:15
2025-07-07 16:08:08.129 -05:00 [INF] fail: 07/07/2025 16:08:08.129 CoreEventId.QueryIterationFailed[10100] (Microsoft.EntityFrameworkCore.Query) 
      An exception occurred while iterating over the results of a query for context type 'VCashApp.Data.AppDbContext'.
      Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
      Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
         at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
         at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
         at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
      --- End of stack trace from previous location ---
         at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
         at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
      --- End of stack trace from previous location ---
         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
         at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
      ClientConnectionId:013f7063-5d21-437e-aacf-f25ea996a786
      Error Number:156,State:1,Class:15
2025-07-07 16:08:08.134 -05:00 [ERR] Error al cargar ViewBags en LoadEditViewBags
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at VCashApp.Controllers.RutasDiariasController.LoadEditViewBags(TdvRutaDiaria ruta, ApplicationUser currentUser, List`1 permittedSucursales) in C:\Users\hamirrocha\source\repos\VCashApp\Controllers\RutasDiariasController.cs:line 843
ClientConnectionId:013f7063-5d21-437e-aacf-f25ea996a786
Error Number:156,State:1,Class:15
2025-07-07 16:08:08.160 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Sintaxis incorrecta cerca de la palabra clave 'WITH'.
Sintaxis incorrecta junto a la palabra clave 'with'. Si esta instrucción es una expresión de tabla común, una cláusula xmlnamespaces o una cláusula de contexto de seguimiento de cambios, la instrucción anterior debe terminarse con punto y coma.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at VCashApp.Controllers.RutasDiariasController.LoadEditViewBags(TdvRutaDiaria ruta, ApplicationUser currentUser, List`1 permittedSucursales) in C:\Users\hamirrocha\source\repos\VCashApp\Controllers\RutasDiariasController.cs:line 843
   at VCashApp.Controllers.RutasDiariasController.Edit(String id) in C:\Users\hamirrocha\source\repos\VCashApp\Controllers\RutasDiariasController.cs:line 813
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:013f7063-5d21-437e-aacf-f25ea996a786
Error Number:156,State:1,Class:15
2025-07-07 16:15:40.049 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:15:40.107 -05:00 [INF] warn: 07/07/2025 16:15:40.106 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:15:40.729 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 16:15:40.738 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 16:15:40.742 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 16:15:40.746 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 16:15:40.748 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 16:15:40.750 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 16:15:40.753 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 16:15:40.756 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 16:15:40.759 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 16:15:40.761 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 16:15:40.763 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 16:15:40.766 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 16:15:40.768 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 16:15:40.770 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 16:15:40.772 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 16:15:40.774 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 16:15:40.777 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 16:15:40.826 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 16:15:40.830 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 16:15:40.832 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 16:15:40.835 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 16:15:40.837 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 16:15:40.840 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 16:15:40.971 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 16:15:40.978 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 16:15:41.041 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 16:15:41.077 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 16:15:41.081 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 16:15:41.084 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 16:15:41.087 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 16:15:41.102 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 16:15:41.106 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 16:15:41.108 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 16:15:41.111 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 16:15:41.214 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 16:15:41.593 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 16:15:41.595 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 16:15:41.643 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 16:15:41.645 -05:00 [INF] Hosting environment: Development
2025-07-07 16:15:41.646 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 16:15:42.181 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:15:42.220 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.HomeController.Index (VCashApp)'
2025-07-07 16:15:44.007 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:15:44.018 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 16:15:44.070 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:15:44.082 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:15:44.094 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.100 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:15:44.114 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Rutas Diarias.
2025-07-07 16:15:44.174 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:15:44.178 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:15:44.180 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:44.186 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:44.195 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.200 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:15:44.202 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:15:44.204 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:44.207 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:44.210 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.212 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:15:44.213 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:15:44.215 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:44.219 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:44.222 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.224 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:15:44.226 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:15:44.227 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:15:44.230 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:15:44.239 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:15:44.259 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:15:44.273 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:15:44.294 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:15:44.298 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:15:44.303 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.305 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:15:44.319 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:15:44.329 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:15:44.332 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:15:44.334 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:44.336 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:44.339 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.341 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:15:44.342 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:15:44.344 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:44.346 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:44.349 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.351 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:15:44.352 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:15:44.354 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:44.356 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:44.359 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.361 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:15:44.362 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:15:44.363 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:15:44.365 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:15:44.367 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:15:44.530 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:15:44.701 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:15:44.709 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:15:44.730 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:15:44.736 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:15:44.742 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.745 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:15:44.752 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:15:44.764 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:15:44.767 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:15:44.770 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:44.773 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:44.777 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.780 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:15:44.782 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:15:44.785 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:44.788 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:44.793 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.797 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:15:44.799 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:15:44.803 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:44.808 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:44.812 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:44.816 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:15:44.817 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:15:44.819 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:15:44.820 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:15:44.821 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:15:44.853 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:15:44.857 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 16:15:44.878 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 21.2736ms.
2025-07-07 16:15:46.806 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:15:46.814 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:15:46.827 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:15:46.831 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:15:46.835 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:46.836 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:15:46.843 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:15:46.853 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:15:46.854 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:15:46.856 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:46.859 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:46.862 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:46.863 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:15:46.864 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:15:46.868 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:46.870 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:46.873 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:46.875 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:15:46.876 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:15:46.877 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:15:46.880 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:15:46.885 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:15:46.887 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:15:46.888 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:15:46.890 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:15:46.891 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:15:46.892 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:15:46.978 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:15:46.979 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:15:47.124 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:15:47.126 -05:00 [INF] DEPURACION VIEWBAGS: Planeador - Cargando empleados activos de sucursal(es) permitida(s).
2025-07-07 16:15:47.128 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The source 'IQueryable' doesn't implement 'IAsyncEnumerable<VCashApp.Models.Entities.AdmEmpleado>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsAsyncEnumerable[TSource](IQueryable`1 source)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at VCashApp.Controllers.RutasDiariasController.LoadEditViewBags(TdvRutaDiaria ruta, ApplicationUser currentUser, List`1 permittedSucursales) in C:\Users\hamirrocha\source\repos\VCashApp\Controllers\RutasDiariasController.cs:line 853
   at VCashApp.Controllers.RutasDiariasController.Edit(String id) in C:\Users\hamirrocha\source\repos\VCashApp\Controllers\RutasDiariasController.cs:line 813
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at VCashApp.Extentions.LogIpMiddleware.InvokeAsync(HttpContext context) in C:\Users\hamirrocha\source\repos\VCashApp\Extensions\LogIpMiddleware.cs:line 22
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-07 16:17:43.828 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:17:43.880 -05:00 [INF] warn: 07/07/2025 16:17:43.880 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:17:44.820 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 16:17:44.831 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 16:17:44.835 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 16:17:44.838 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 16:17:44.841 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 16:17:44.846 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 16:17:44.849 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 16:17:44.852 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 16:17:44.854 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 16:17:44.857 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 16:17:44.860 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 16:17:44.864 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 16:17:44.867 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 16:17:44.870 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 16:17:44.873 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 16:17:44.879 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 16:17:44.882 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 16:17:45.062 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 16:17:45.065 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 16:17:45.068 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 16:17:45.070 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 16:17:45.073 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 16:17:45.080 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 16:17:45.265 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 16:17:45.270 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 16:17:45.363 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 16:17:45.409 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 16:17:45.414 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 16:17:45.418 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 16:17:45.422 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 16:17:45.432 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 16:17:45.436 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 16:17:45.439 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 16:17:45.444 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 16:17:45.562 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 16:17:46.038 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 16:17:46.039 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 16:17:46.087 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 16:17:46.089 -05:00 [INF] Hosting environment: Development
2025-07-07 16:17:46.090 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 16:17:46.931 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:17:46.974 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:17:47.160 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:17:47.171 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:17:47.184 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:17:47.190 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:17:47.230 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:17:47.303 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:17:47.307 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:17:47.310 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:17:47.319 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:17:47.329 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:17:47.332 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:17:47.333 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:17:47.335 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:17:47.338 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:17:47.347 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:17:47.352 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:17:47.353 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:17:47.355 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:17:47.359 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:17:47.364 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:17:47.367 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:17:47.371 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:17:47.373 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:17:47.380 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:17:47.390 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:17:47.619 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:17:47.622 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:17:47.768 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:17:47.771 -05:00 [INF] DEPURACION VIEWBAGS: Planeador - Cargando empleados activos de sucursal(es) permitida(s).
2025-07-07 16:17:47.798 -05:00 [INF] DEPURACION VIEWBAGS: IDs de Cargos - JT: null, Conductor: null, Tripulante: null
2025-07-07 16:17:47.813 -05:00 [INF] DEPURACION VIEWBAGS: JefesTurno generados (Count, excluding default): 0
2025-07-07 16:17:47.819 -05:00 [INF] DEPURACION VIEWBAGS: Conductores generados (Count, excluding default): 0
2025-07-07 16:17:47.824 -05:00 [INF] DEPURACION VIEWBAGS: Tripulantes generados (Count, excluding default): 0
2025-07-07 16:17:47.830 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000019 | Respuesta: Acceso permitido | 
2025-07-07 16:17:48.290 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:17:48.308 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:17:48.398 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:17:48.423 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:17:48.460 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:17:48.466 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:17:56.843 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:17:56.850 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:17:56.862 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:17:56.868 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:17:56.883 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:17:56.887 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:17:56.894 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:17:56.903 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:17:56.905 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:17:56.910 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:17:56.916 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:17:56.918 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:17:56.920 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:17:56.921 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:17:56.922 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:17:56.929 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:17:56.932 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:17:56.937 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:17:56.938 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:17:56.943 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:17:56.950 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:17:56.952 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:17:56.954 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:17:56.955 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:17:56.956 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:17:56.961 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:17:56.963 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:17:56.981 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:17:56.983 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:17:57.028 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:17:57.030 -05:00 [INF] DEPURACION VIEWBAGS: Planeador - Cargando empleados activos de sucursal(es) permitida(s).
2025-07-07 16:17:57.036 -05:00 [INF] DEPURACION VIEWBAGS: IDs de Cargos - JT: null, Conductor: null, Tripulante: null
2025-07-07 16:17:57.037 -05:00 [INF] DEPURACION VIEWBAGS: JefesTurno generados (Count, excluding default): 0
2025-07-07 16:17:57.038 -05:00 [INF] DEPURACION VIEWBAGS: Conductores generados (Count, excluding default): 0
2025-07-07 16:17:57.043 -05:00 [INF] DEPURACION VIEWBAGS: Tripulantes generados (Count, excluding default): 0
2025-07-07 16:17:57.045 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000019 | Respuesta: Acceso permitido | 
2025-07-07 16:17:57.347 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:17:57.374 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:17:57.403 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:17:57.422 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:17:57.448 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:17:57.485 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:21:59.504 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:21:59.631 -05:00 [INF] warn: 07/07/2025 16:21:59.629 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:22:01.209 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 16:22:01.221 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 16:22:01.225 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 16:22:01.228 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 16:22:01.232 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 16:22:01.235 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 16:22:01.238 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 16:22:01.241 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 16:22:01.245 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 16:22:01.249 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 16:22:01.252 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 16:22:01.256 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 16:22:01.260 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 16:22:01.264 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 16:22:01.268 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 16:22:01.271 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 16:22:01.275 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 16:22:01.469 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 16:22:01.475 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 16:22:01.479 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 16:22:01.482 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 16:22:01.486 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 16:22:01.490 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 16:22:01.646 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 16:22:01.652 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 16:22:01.738 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 16:22:01.786 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 16:22:01.790 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 16:22:01.793 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 16:22:01.797 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 16:22:01.809 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 16:22:01.813 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 16:22:01.816 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 16:22:01.819 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 16:22:01.959 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 16:22:02.502 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 16:22:02.503 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 16:22:02.554 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 16:22:02.555 -05:00 [INF] Hosting environment: Development
2025-07-07 16:22:02.557 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 16:22:02.994 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:22:03.038 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:22:03.223 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 127.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:22:03.236 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:22:03.255 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:22:03.262 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 127.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:22:03.288 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:22:03.352 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:22:03.356 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:22:03.359 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:22:03.366 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:22:03.375 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:22:03.379 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:22:03.381 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:22:03.383 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:22:03.386 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:22:03.389 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:22:03.392 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:22:03.394 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:22:03.396 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:22:03.399 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:22:03.402 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:22:03.406 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:22:03.407 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:22:03.409 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:22:03.414 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:22:03.423 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:22:03.706 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:22:03.709 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:22:03.846 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:22:03.848 -05:00 [INF] DEPURACION VIEWBAGS: Empleados activos relevantes (por sucursal/admin): 192
2025-07-07 16:22:03.851 -05:00 [INF] DEPURACION VIEWBAGS: IDs de Cargos (fijos) - JT: 64, Conductor: 45, Tripulante: 51
2025-07-07 16:22:03.863 -05:00 [INF] DEPURACION VIEWBAGS: JefesTurno generados (Count, excluding default): 10
2025-07-07 16:22:03.868 -05:00 [INF] DEPURACION VIEWBAGS: Conductores generados (Count, excluding default): 13
2025-07-07 16:22:03.874 -05:00 [INF] DEPURACION VIEWBAGS: Tripulantes generados (Count, excluding default): 21
2025-07-07 16:22:03.878 -05:00 [INF] | Usuario: planeador1 | Ip: 127.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000019 | Respuesta: Acceso permitido | 
2025-07-07 16:22:04.425 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:22:04.438 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:22:04.534 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:22:04.558 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:22:04.603 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:22:04.608 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:23:03.484 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:23:03.591 -05:00 [INF] warn: 07/07/2025 16:23:03.591 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:23:04.702 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 16:23:04.723 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 16:23:04.728 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 16:23:04.732 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 16:23:04.737 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 16:23:04.741 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 16:23:04.745 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 16:23:04.750 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 16:23:04.754 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 16:23:04.757 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 16:23:04.761 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 16:23:04.764 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 16:23:04.767 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 16:23:04.771 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 16:23:04.774 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 16:23:04.778 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 16:23:04.783 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 16:23:04.859 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 16:23:04.863 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 16:23:04.867 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 16:23:04.869 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 16:23:04.872 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 16:23:04.876 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 16:23:05.029 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 16:23:05.036 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 16:23:05.151 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 16:23:05.199 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 16:23:05.203 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 16:23:05.206 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 16:23:05.209 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 16:23:05.218 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 16:23:05.221 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 16:23:05.224 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 16:23:05.228 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 16:23:05.370 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 16:23:05.719 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 16:23:05.722 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 16:23:05.796 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 16:23:05.799 -05:00 [INF] Hosting environment: Development
2025-07-07 16:23:05.801 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 16:23:06.352 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:23:06.394 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:23:06.660 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:23:06.676 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:23:06.698 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:23:06.719 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:23:06.745 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:23:06.813 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:23:06.817 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:23:06.820 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:23:06.827 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:23:06.837 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:23:06.841 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:23:06.842 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:23:06.844 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:23:06.848 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:23:06.853 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:23:06.856 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:23:06.858 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:23:06.860 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:23:06.864 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:23:06.869 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:23:06.872 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:23:06.874 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:23:06.877 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:23:06.880 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:23:06.890 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:23:07.100 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:23:07.103 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:23:07.242 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:23:07.245 -05:00 [INF] DEPURACION VIEWBAGS: Empleados activos relevantes (por sucursal/admin): 192
2025-07-07 16:23:07.246 -05:00 [INF] DEPURACION VIEWBAGS: IDs de Cargos (fijos) - JT: 64, Conductor: 45, Tripulante: 51
2025-07-07 16:23:07.257 -05:00 [INF] DEPURACION VIEWBAGS: JefesTurno generados (Count, excluding default): 10
2025-07-07 16:23:07.262 -05:00 [INF] DEPURACION VIEWBAGS: Conductores generados (Count, excluding default): 13
2025-07-07 16:23:07.267 -05:00 [INF] DEPURACION VIEWBAGS: Tripulantes generados (Count, excluding default): 21
2025-07-07 16:23:07.270 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000019 | Respuesta: Acceso permitido | 
2025-07-07 16:23:07.650 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:23:07.662 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:23:07.700 -05:00 [INF] DEPURACION AJAX GET: GetJefesTurnoBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:23:07.703 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:23:07.738 -05:00 [INF] DEPURACION AJAX GET: JefesTurno encontrados para sucursal 1: 10
2025-07-07 16:23:07.766 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:23:07.789 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:23:07.808 -05:00 [INF] DEPURACION AJAX GET: GetConductoresBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:23:07.810 -05:00 [INF] DEPURACION AJAX GET: conductorCargoId: 45
2025-07-07 16:23:07.823 -05:00 [INF] DEPURACION AJAX GET: Conductores encontrados para sucursal 1: 13
2025-07-07 16:23:07.870 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:23:07.877 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:23:07.892 -05:00 [INF] DEPURACION AJAX GET: GetTripulantesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:23:07.894 -05:00 [INF] DEPURACION AJAX GET: tripulanteCargoId: 51
2025-07-07 16:23:07.908 -05:00 [INF] DEPURACION AJAX GET: Tripulantes encontrados para sucursal 1: 21
2025-07-07 16:24:22.358 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:24:22.371 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:24:22.386 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:24:22.390 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:24:22.394 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:24:22.395 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:24:22.400 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:24:22.410 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:24:22.412 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:24:22.413 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:24:22.416 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:24:22.422 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:24:22.423 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:24:22.424 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:24:22.426 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:24:22.429 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:24:22.431 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:24:22.436 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:24:22.438 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:24:22.440 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:24:22.443 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:24:22.446 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:24:22.448 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:24:22.452 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:24:22.455 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:24:22.456 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:24:22.457 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:24:22.469 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:24:22.471 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000019, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:24:22.513 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:24:22.515 -05:00 [INF] DEPURACION VIEWBAGS: Empleados activos relevantes (por sucursal/admin): 192
2025-07-07 16:24:22.516 -05:00 [INF] DEPURACION VIEWBAGS: IDs de Cargos (fijos) - JT: 64, Conductor: 45, Tripulante: 51
2025-07-07 16:24:22.519 -05:00 [INF] DEPURACION VIEWBAGS: JefesTurno generados (Count, excluding default): 10
2025-07-07 16:24:22.522 -05:00 [INF] DEPURACION VIEWBAGS: Conductores generados (Count, excluding default): 13
2025-07-07 16:24:22.523 -05:00 [INF] DEPURACION VIEWBAGS: Tripulantes generados (Count, excluding default): 21
2025-07-07 16:24:22.524 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000019 | Respuesta: Acceso permitido | 
2025-07-07 16:24:22.771 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:24:22.778 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:24:22.794 -05:00 [INF] DEPURACION AJAX GET: GetJefesTurnoBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:24:22.795 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:24:22.801 -05:00 [INF] DEPURACION AJAX GET: JefesTurno encontrados para sucursal 1: 10
2025-07-07 16:24:22.814 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:24:22.824 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:24:22.837 -05:00 [INF] DEPURACION AJAX GET: GetConductoresBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:24:22.838 -05:00 [INF] DEPURACION AJAX GET: conductorCargoId: 45
2025-07-07 16:24:22.844 -05:00 [INF] DEPURACION AJAX GET: Conductores encontrados para sucursal 1: 13
2025-07-07 16:24:22.858 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:24:22.864 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:24:22.878 -05:00 [INF] DEPURACION AJAX GET: GetTripulantesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:24:22.879 -05:00 [INF] DEPURACION AJAX GET: tripulanteCargoId: 51
2025-07-07 16:24:22.886 -05:00 [INF] DEPURACION AJAX GET: Tripulantes encontrados para sucursal 1: 21
2025-07-07 16:24:22.897 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:24:22.907 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:24:22.926 -05:00 [INF] DEPURACION AJAX GET: GetVehiclesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:24:22.940 -05:00 [INF] DEPURACION AJAX GET: Vehículos encontrados para sucursal 1: 15
2025-07-07 16:25:12.006 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:25:32.066 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:25:32.079 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:25:32.086 -05:00 [INF] DEPURACION AJAX GET: GetEmployeeDetails - cedula: 1100966639
2025-07-07 16:25:32.105 -05:00 [INF] DEPURACION AJAX GET: Detalles de empleado encontrados: JHON JAIRO MORALES CESPEDES, Cargo: 64, Sucursal: 1
2025-07-07 16:25:32.943 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:25:32.948 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:25:32.950 -05:00 [INF] DEPURACION AJAX GET: GetEmployeeDetails - cedula: 1100966639
2025-07-07 16:25:32.953 -05:00 [INF] DEPURACION AJAX GET: Detalles de empleado encontrados: JHON JAIRO MORALES CESPEDES, Cargo: 64, Sucursal: 1
2025-07-07 16:25:35.720 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:25:35.728 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:25:35.730 -05:00 [INF] DEPURACION AJAX GET: GetEmployeeDetails - cedula: 1100966639
2025-07-07 16:25:35.732 -05:00 [INF] DEPURACION AJAX GET: Detalles de empleado encontrados: JHON JAIRO MORALES CESPEDES, Cargo: 64, Sucursal: 1
2025-07-07 16:25:35.745 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:25:35.749 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:25:35.750 -05:00 [INF] DEPURACION AJAX GET: GetEmployeeDetails - cedula: 80791888
2025-07-07 16:25:35.754 -05:00 [INF] DEPURACION AJAX GET: Detalles de empleado encontrados: MIGUEL  VILLALOBOS VALBUENA, Cargo: 45, Sucursal: 1
2025-07-07 16:25:36.882 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:25:36.893 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:25:36.895 -05:00 [INF] DEPURACION AJAX GET: GetEmployeeDetails - cedula: 1100966639
2025-07-07 16:25:36.900 -05:00 [INF] DEPURACION AJAX GET: Detalles de empleado encontrados: JHON JAIRO MORALES CESPEDES, Cargo: 64, Sucursal: 1
2025-07-07 16:25:36.912 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:25:36.916 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:25:36.917 -05:00 [INF] DEPURACION AJAX GET: GetEmployeeDetails - cedula: 80791888
2025-07-07 16:25:36.924 -05:00 [INF] DEPURACION AJAX GET: Detalles de empleado encontrados: MIGUEL  VILLALOBOS VALBUENA, Cargo: 45, Sucursal: 1
2025-07-07 16:25:36.933 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:25:36.941 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:25:36.942 -05:00 [INF] DEPURACION AJAX GET: GetEmployeeDetails - cedula: 1007785706
2025-07-07 16:25:36.945 -05:00 [INF] DEPURACION AJAX GET: Detalles de empleado encontrados: LUIS ALONSO MORALES URREA, Cargo: 51, Sucursal: 1
2025-07-07 16:27:33.157 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:27:33.249 -05:00 [INF] warn: 07/07/2025 16:27:33.249 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-07 16:27:34.383 -05:00 [INF] [SeedData] Rol 'Admin' ya existe.
2025-07-07 16:27:34.396 -05:00 [INF] [SeedData] Rol 'Planeador' ya existe.
2025-07-07 16:27:34.400 -05:00 [INF] [SeedData] Rol 'CEF' ya existe.
2025-07-07 16:27:34.403 -05:00 [INF] [SeedData] Rol 'Supervisor' ya existe.
2025-07-07 16:27:34.415 -05:00 [INF] [SeedData] Rol 'ADATM01' ya existe.
2025-07-07 16:27:34.419 -05:00 [INF] [SeedData] Rol 'ADCEF01' ya existe.
2025-07-07 16:27:34.422 -05:00 [INF] [SeedData] Rol 'ADCF01' ya existe.
2025-07-07 16:27:34.430 -05:00 [INF] [SeedData] Rol 'ADGRG01' ya existe.
2025-07-07 16:27:34.434 -05:00 [INF] [SeedData] Rol 'ADMTF01' ya existe.
2025-07-07 16:27:34.438 -05:00 [INF] [SeedData] Rol 'ADSER01' ya existe.
2025-07-07 16:27:34.441 -05:00 [INF] [SeedData] Rol 'ADSER02' ya existe.
2025-07-07 16:27:34.445 -05:00 [INF] [SeedData] Rol 'ADTH01' ya existe.
2025-07-07 16:27:34.449 -05:00 [INF] [SeedData] Rol 'ADTI01' ya existe.
2025-07-07 16:27:34.453 -05:00 [INF] [SeedData] Rol 'COCEF01' ya existe.
2025-07-07 16:27:34.456 -05:00 [INF] [SeedData] Rol 'COSTV01' ya existe.
2025-07-07 16:27:34.461 -05:00 [INF] [SeedData] Rol 'GRSER001' ya existe.
2025-07-07 16:27:34.466 -05:00 [INF] [SeedData] Rol 'SUPTV01' ya existe.
2025-07-07 16:27:34.562 -05:00 [INF] [SeedData] Usuario 'adminvcash' ya existe.
2025-07-07 16:27:34.566 -05:00 [INF] [SeedData] Usuario 'planeador1' ya existe.
2025-07-07 16:27:34.572 -05:00 [INF] [SeedData] Usuario 'planeador2' ya existe.
2025-07-07 16:27:34.577 -05:00 [INF] [SeedData] Usuario 'cef1' ya existe.
2025-07-07 16:27:34.581 -05:00 [INF] [SeedData] Usuario 'supervisor1' ya existe.
2025-07-07 16:27:34.586 -05:00 [INF] [SeedData] Iniciando seeding de permisos por sucursal...
2025-07-07 16:27:34.752 -05:00 [INF] [SeedData] Seeding de permisos por sucursal completado.
2025-07-07 16:27:34.760 -05:00 [INF] [SeedData] Iniciando seeding de permisos de perfiles y vistas...
2025-07-07 16:27:34.869 -05:00 [INF] [SeedData] Vistas creadas/actualizadas.
2025-07-07 16:27:34.919 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Admin.
2025-07-07 16:27:34.923 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Planeador.
2025-07-07 16:27:34.927 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol CEF.
2025-07-07 16:27:34.931 -05:00 [INF] [SeedData] Permisos RUD actualizados para rol Supervisor.
2025-07-07 16:27:34.945 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Admin.
2025-07-07 16:27:34.949 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Planeador.
2025-07-07 16:27:34.953 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol CEF.
2025-07-07 16:27:34.957 -05:00 [INF] [SeedData] Permisos RUDHIS actualizados para rol Supervisor.
2025-07-07 16:27:35.094 -05:00 [INF] [SeedData] Seeding de permisos de perfiles y vistas completado.
2025-07-07 16:27:35.605 -05:00 [INF] Now listening on: https://localhost:7024
2025-07-07 16:27:35.607 -05:00 [INF] Now listening on: http://localhost:5006
2025-07-07 16:27:35.659 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 16:27:35.661 -05:00 [INF] Hosting environment: Development
2025-07-07 16:27:35.663 -05:00 [INF] Content root path: C:\Users\hamirrocha\source\repos\VCashApp
2025-07-07 16:27:36.478 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:27:36.533 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.HomeController.Index (VCashApp)'
2025-07-07 16:27:40.593 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:27:40.605 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 16:27:40.668 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:27:40.681 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:27:40.698 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:40.705 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:27:40.726 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Rutas Diarias.
2025-07-07 16:27:40.803 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:27:40.807 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:27:40.810 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:40.818 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:40.829 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:40.834 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:27:40.836 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:27:40.838 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:40.842 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:40.846 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:40.850 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:27:40.852 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:27:40.854 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:40.858 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:40.863 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:40.866 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:27:40.868 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:27:40.870 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:27:40.874 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:27:40.888 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:27:40.912 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:27:40.934 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:27:40.952 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:27:40.957 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:27:40.961 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:40.965 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:27:40.987 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:27:40.998 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:27:41.000 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:27:41.002 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:41.006 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:41.010 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:41.015 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:27:41.016 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:27:41.018 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:41.022 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:41.027 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:41.030 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:27:41.032 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:27:41.035 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:41.038 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:41.043 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:41.046 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:27:41.048 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:27:41.050 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:27:41.052 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:27:41.054 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:27:41.303 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:27:41.559 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:27:41.568 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:27:41.584 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:27:41.590 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:27:41.595 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:41.600 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:27:41.607 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:27:41.620 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:27:41.622 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:27:41.624 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:41.630 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:41.635 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:41.638 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:27:41.640 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:27:41.643 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:41.649 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:41.655 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:41.658 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:27:41.660 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:27:41.666 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:41.670 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:41.674 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:41.678 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:27:41.682 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:27:41.684 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:27:41.686 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:27:41.688 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:27:41.741 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:27:41.747 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 16:27:41.782 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 34.6866ms.
2025-07-07 16:27:43.181 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:27:43.189 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:27:43.205 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:27:43.209 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:27:43.214 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:43.218 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:27:43.227 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:27:43.236 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:27:43.237 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:27:43.239 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:43.242 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:43.246 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:43.249 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:27:43.250 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:27:43.253 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:43.255 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:43.259 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:43.263 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:27:43.266 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:27:43.268 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:27:43.271 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:27:43.275 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:27:43.278 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:27:43.280 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:27:43.282 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:27:43.283 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:27:43.284 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:27:43.394 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:27:43.397 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000020, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:27:43.578 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:27:43.581 -05:00 [INF] DEPURACION VIEWBAGS: Empleados activos relevantes (por sucursal/admin): 192
2025-07-07 16:27:43.583 -05:00 [INF] DEPURACION VIEWBAGS: IDs de Cargos (fijos) - JT: 64, Conductor: 45, Tripulante: 51
2025-07-07 16:27:43.596 -05:00 [INF] DEPURACION VIEWBAGS: JefesTurno generados (Count, excluding default): 10
2025-07-07 16:27:43.601 -05:00 [INF] DEPURACION VIEWBAGS: Conductores generados (Count, excluding default): 13
2025-07-07 16:27:43.606 -05:00 [INF] DEPURACION VIEWBAGS: Tripulantes generados (Count, excluding default): 21
2025-07-07 16:27:43.609 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000020 | Respuesta: Acceso permitido | 
2025-07-07 16:27:43.849 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:27:43.858 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:27:43.880 -05:00 [INF] DEPURACION AJAX GET: GetJefesTurnoBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:27:43.883 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:27:43.909 -05:00 [INF] DEPURACION AJAX GET: JefesTurno encontrados para sucursal 1: 10
2025-07-07 16:27:43.938 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:27:43.944 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:27:43.965 -05:00 [INF] DEPURACION AJAX GET: GetConductoresBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:27:43.967 -05:00 [INF] DEPURACION AJAX GET: conductorCargoId: 45
2025-07-07 16:27:43.977 -05:00 [INF] DEPURACION AJAX GET: Conductores encontrados para sucursal 1: 13
2025-07-07 16:27:43.992 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:27:44.001 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:27:44.019 -05:00 [INF] DEPURACION AJAX GET: GetTripulantesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:27:44.021 -05:00 [INF] DEPURACION AJAX GET: tripulanteCargoId: 51
2025-07-07 16:27:44.030 -05:00 [INF] DEPURACION AJAX GET: Tripulantes encontrados para sucursal 1: 21
2025-07-07 16:27:44.042 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:27:44.050 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:27:44.066 -05:00 [INF] DEPURACION AJAX GET: GetVehiclesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:27:44.074 -05:00 [INF] DEPURACION AJAX GET: Vehículos encontrados para sucursal 1: 15
2025-07-07 16:28:26.110 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:26.121 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:28:26.140 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:28:26.145 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:28:26.149 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:28:26.152 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:28:26.157 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:28:26.165 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:28:26.166 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:28:26.169 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:28:26.174 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:28:26.179 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:28:26.182 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:28:26.184 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:28:26.186 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:28:26.191 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:28:26.195 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:28:26.198 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:28:26.200 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:28:26.202 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:28:26.206 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:28:26.209 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:28:26.212 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:28:26.214 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:28:26.216 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:28:26.217 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:28:26.218 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:28:26.232 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:28:26.233 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000020, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:28:26.273 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:28:26.274 -05:00 [INF] DEPURACION VIEWBAGS: Empleados activos relevantes (por sucursal/admin): 192
2025-07-07 16:28:26.276 -05:00 [INF] DEPURACION VIEWBAGS: IDs de Cargos (fijos) - JT: 64, Conductor: 45, Tripulante: 51
2025-07-07 16:28:26.278 -05:00 [INF] DEPURACION VIEWBAGS: JefesTurno generados (Count, excluding default): 10
2025-07-07 16:28:26.279 -05:00 [INF] DEPURACION VIEWBAGS: Conductores generados (Count, excluding default): 13
2025-07-07 16:28:26.281 -05:00 [INF] DEPURACION VIEWBAGS: Tripulantes generados (Count, excluding default): 21
2025-07-07 16:28:26.282 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000020 | Respuesta: Acceso permitido | 
2025-07-07 16:28:26.630 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:26.636 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:28:26.650 -05:00 [INF] DEPURACION AJAX GET: GetJefesTurnoBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:28:26.652 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:28:26.658 -05:00 [INF] DEPURACION AJAX GET: JefesTurno encontrados para sucursal 1: 10
2025-07-07 16:28:26.672 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:26.678 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:28:26.700 -05:00 [INF] DEPURACION AJAX GET: GetConductoresBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:28:26.701 -05:00 [INF] DEPURACION AJAX GET: conductorCargoId: 45
2025-07-07 16:28:26.712 -05:00 [INF] DEPURACION AJAX GET: Conductores encontrados para sucursal 1: 13
2025-07-07 16:28:26.727 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:26.733 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:28:26.749 -05:00 [INF] DEPURACION AJAX GET: GetTripulantesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:28:26.750 -05:00 [INF] DEPURACION AJAX GET: tripulanteCargoId: 51
2025-07-07 16:28:26.755 -05:00 [INF] DEPURACION AJAX GET: Tripulantes encontrados para sucursal 1: 21
2025-07-07 16:28:26.773 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:26.778 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:28:26.795 -05:00 [INF] DEPURACION AJAX GET: GetVehiclesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:28:26.799 -05:00 [INF] DEPURACION AJAX GET: Vehículos encontrados para sucursal 1: 15
2025-07-07 16:28:50.052 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:50.061 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:28:50.077 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:28:50.081 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:28:50.086 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:28:50.089 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:28:50.093 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:28:50.100 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:28:50.102 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:28:50.104 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:28:50.107 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:28:50.110 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:28:50.113 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:28:50.115 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:28:50.118 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:28:50.121 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:28:50.125 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:28:50.128 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:28:50.130 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:28:50.135 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:28:50.138 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:28:50.143 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:28:50.146 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:28:50.148 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:28:50.151 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:28:50.152 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:28:50.154 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:28:50.164 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:28:50.166 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000020, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:28:50.195 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:28:50.197 -05:00 [INF] DEPURACION VIEWBAGS: Empleados activos relevantes (por sucursal/admin): 192
2025-07-07 16:28:50.199 -05:00 [INF] DEPURACION VIEWBAGS: IDs de Cargos (fijos) - JT: 64, Conductor: 45, Tripulante: 51
2025-07-07 16:28:50.202 -05:00 [INF] DEPURACION VIEWBAGS: JefesTurno generados (Count, excluding default): 10
2025-07-07 16:28:50.204 -05:00 [INF] DEPURACION VIEWBAGS: Conductores generados (Count, excluding default): 13
2025-07-07 16:28:50.205 -05:00 [INF] DEPURACION VIEWBAGS: Tripulantes generados (Count, excluding default): 21
2025-07-07 16:28:50.206 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000020 | Respuesta: Acceso permitido | 
2025-07-07 16:28:50.614 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:50.622 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:28:50.636 -05:00 [INF] DEPURACION AJAX GET: GetJefesTurnoBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:28:50.638 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:28:50.642 -05:00 [INF] DEPURACION AJAX GET: JefesTurno encontrados para sucursal 1: 10
2025-07-07 16:28:50.674 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:50.679 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:28:50.696 -05:00 [INF] DEPURACION AJAX GET: GetConductoresBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:28:50.698 -05:00 [INF] DEPURACION AJAX GET: conductorCargoId: 45
2025-07-07 16:28:50.705 -05:00 [INF] DEPURACION AJAX GET: Conductores encontrados para sucursal 1: 13
2025-07-07 16:28:50.730 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:50.740 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:28:50.759 -05:00 [INF] DEPURACION AJAX GET: GetTripulantesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:28:50.763 -05:00 [INF] DEPURACION AJAX GET: tripulanteCargoId: 51
2025-07-07 16:28:50.785 -05:00 [INF] DEPURACION AJAX GET: Tripulantes encontrados para sucursal 1: 21
2025-07-07 16:28:50.816 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:28:50.827 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:28:50.844 -05:00 [INF] DEPURACION AJAX GET: GetVehiclesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:28:50.850 -05:00 [INF] DEPURACION AJAX GET: Vehículos encontrados para sucursal 1: 15
2025-07-07 16:29:09.236 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:29:09.242 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:29:09.260 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:29:09.265 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:29:09.269 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:29:09.272 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:29:09.276 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:29:09.285 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:29:09.286 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:29:09.289 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:29:09.292 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:29:09.297 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:29:09.303 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:29:09.306 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:29:09.309 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:29:09.314 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:29:09.318 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:29:09.321 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:29:09.323 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:29:09.326 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:29:09.351 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:29:09.355 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:29:09.358 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:29:09.360 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:29:09.362 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:29:09.364 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:29:09.365 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:29:09.375 -05:00 [INF] DEPURACION VIEWBAGS: LoadEditViewBags - isAdmin: false, currentUser.UserName: planeador1
2025-07-07 16:29:09.377 -05:00 [INF] DEPURACION VIEWBAGS: Ruta actual - ID: RA0000000020, Sucursal: 1, TipoVehiculo: B
2025-07-07 16:29:09.411 -05:00 [INF] DEPURACION VIEWBAGS: Total de empleados activos en DB: 323
2025-07-07 16:29:09.448 -05:00 [INF] DEPURACION VIEWBAGS: Empleados activos relevantes (por sucursal/admin): 192
2025-07-07 16:29:09.450 -05:00 [INF] DEPURACION VIEWBAGS: IDs de Cargos (fijos) - JT: 64, Conductor: 45, Tripulante: 51
2025-07-07 16:29:09.453 -05:00 [INF] DEPURACION VIEWBAGS: JefesTurno generados (Count, excluding default): 10
2025-07-07 16:29:09.455 -05:00 [INF] DEPURACION VIEWBAGS: Conductores generados (Count, excluding default): 13
2025-07-07 16:29:09.457 -05:00 [INF] DEPURACION VIEWBAGS: Tripulantes generados (Count, excluding default): 21
2025-07-07 16:29:09.458 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000020 | Respuesta: Acceso permitido | 
2025-07-07 16:29:09.915 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:29:09.922 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:29:09.936 -05:00 [INF] DEPURACION AJAX GET: GetJefesTurnoBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:29:09.939 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:29:09.943 -05:00 [INF] DEPURACION AJAX GET: JefesTurno encontrados para sucursal 1: 10
2025-07-07 16:29:09.964 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:29:09.970 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:29:09.988 -05:00 [INF] DEPURACION AJAX GET: GetConductoresBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:29:09.990 -05:00 [INF] DEPURACION AJAX GET: conductorCargoId: 45
2025-07-07 16:29:09.999 -05:00 [INF] DEPURACION AJAX GET: Conductores encontrados para sucursal 1: 13
2025-07-07 16:29:10.025 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:29:10.034 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:29:10.048 -05:00 [INF] DEPURACION AJAX GET: GetTripulantesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:29:10.049 -05:00 [INF] DEPURACION AJAX GET: tripulanteCargoId: 51
2025-07-07 16:29:10.070 -05:00 [INF] DEPURACION AJAX GET: Tripulantes encontrados para sucursal 1: 21
2025-07-07 16:29:10.087 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:29:10.094 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:29:10.114 -05:00 [INF] DEPURACION AJAX GET: GetVehiclesBySucursal - codSuc: 1 (Nullable), isAdmin: false
2025-07-07 16:29:10.118 -05:00 [INF] DEPURACION AJAX GET: Vehículos encontrados para sucursal 1: 15
2025-07-07 16:33:47.258 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:33:47.265 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:33:47.283 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:33:47.287 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:33:47.308 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:33:47.313 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:33:47.317 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:33:47.324 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:33:47.326 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:33:47.328 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:33:47.331 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:33:47.336 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:33:47.339 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:33:47.341 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:33:47.346 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:33:47.351 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:33:47.355 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:33:47.358 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:33:47.361 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:33:47.363 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:33:47.366 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:33:47.370 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:33:47.373 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:33:47.374 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:33:47.378 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:33:47.379 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:33:47.381 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:33:47.463 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000020 | Respuesta: Acceso permitido | 
2025-07-07 16:33:47.671 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:33:47.680 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:33:47.705 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:33:47.729 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:33:47.735 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:33:47.790 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:33:47.800 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:33:47.847 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:33:47.853 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:36:20.906 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:36:20.914 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:36:20.929 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:36:20.936 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:36:20.941 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:36:20.945 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:36:20.951 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:36:20.958 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:36:20.960 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:36:20.963 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:36:20.967 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:36:20.971 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:36:20.974 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:36:20.975 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:36:20.977 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:36:20.981 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:36:20.985 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:36:20.988 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:36:20.989 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:36:20.991 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:36:20.994 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:36:20.998 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:36:21.002 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:36:21.003 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:36:21.005 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:36:21.006 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:36:21.008 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:36:21.051 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000020 | Respuesta: Acceso permitido | 
2025-07-07 16:36:21.275 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:36:21.282 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:36:21.294 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:36:21.312 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:36:21.319 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:36:21.436 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:36:21.443 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:36:21.472 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:36:21.479 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:38:44.205 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:44.210 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:38:44.222 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:38:44.227 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:38:44.230 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:38:44.233 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:38:44.238 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:38:44.244 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:38:44.246 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:38:44.248 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:38:44.251 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:38:44.255 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:38:44.258 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:38:44.260 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:38:44.262 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:38:44.264 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:38:44.268 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:38:44.273 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:38:44.275 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:38:44.278 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:38:44.281 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:38:44.284 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:38:44.287 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:38:44.289 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:38:44.291 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:38:44.292 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:38:44.294 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:38:44.328 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000020 | Respuesta: Acceso permitido | 
2025-07-07 16:38:44.814 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:44.818 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:38:44.835 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:38:44.855 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:44.859 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:38:44.890 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:44.897 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:38:44.931 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:44.941 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:38:56.173 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:56.178 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:38:56.206 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:38:56.239 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:38:56.245 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:38:56.248 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:38:56.255 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:38:56.262 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:38:56.264 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:38:56.266 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:38:56.270 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:38:56.274 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:38:56.276 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:38:56.278 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:38:56.280 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:38:56.283 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:38:56.289 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:38:56.292 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:38:56.294 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:38:56.296 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:38:56.305 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:38:56.321 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:38:56.325 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:38:56.326 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:38:56.329 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:38:56.330 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:38:56.332 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:38:56.369 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000020 | Respuesta: Acceso permitido | 
2025-07-07 16:38:57.064 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:57.071 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:38:57.086 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:38:57.108 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:57.112 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:38:57.146 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:57.159 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:38:57.198 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:38:57.211 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:39:06.451 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:39:06.456 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:39:07.966 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:39:07.971 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:39:07.982 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:39:07.986 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:39:09.120 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:39:09.124 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:39:09.136 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:39:09.139 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:39:09.151 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:39:09.154 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:40:06.975 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:06.979 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:40:07.001 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:40:07.007 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:40:07.011 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.013 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:40:07.060 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:40:07.067 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:40:07.069 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:40:07.072 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.076 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.079 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.081 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:40:07.082 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:40:07.083 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.085 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.090 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.092 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:40:07.093 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:40:07.094 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.096 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.099 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.101 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:40:07.102 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:40:07.103 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:40:07.105 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:40:07.106 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:40:07.300 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Ruta diaria actualizada por Planeador | RutaId: RA0000000020 | Estado: PLANEADO | 
2025-07-07 16:40:07.320 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:07.324 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 16:40:07.333 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:40:07.336 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:40:07.339 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.341 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:40:07.343 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Rutas Diarias.
2025-07-07 16:40:07.348 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:40:07.349 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:40:07.351 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.352 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.355 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.357 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:40:07.358 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:40:07.360 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.362 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.364 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.366 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:40:07.367 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:40:07.368 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.371 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.374 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.376 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:40:07.377 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:40:07.378 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:40:07.379 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:40:07.380 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:40:07.391 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:07.395 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:40:07.408 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:40:07.414 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:40:07.417 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.419 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:40:07.422 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:40:07.428 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:40:07.430 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:40:07.431 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.433 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.435 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.440 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:40:07.441 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:40:07.443 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.445 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.447 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.449 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:40:07.450 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:40:07.451 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.453 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.457 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.458 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:40:07.459 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:40:07.460 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:40:07.461 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:40:07.462 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:40:07.470 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:40:07.582 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:07.588 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:40:07.597 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:40:07.602 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:40:07.607 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.612 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:40:07.614 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:40:07.620 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:40:07.622 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:40:07.625 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.627 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.630 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.633 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:40:07.634 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:40:07.635 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.640 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.645 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.647 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:40:07.648 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:40:07.649 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:07.654 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:07.659 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:07.662 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:40:07.663 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:40:07.664 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:40:07.665 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:40:07.666 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:40:07.674 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:40:07.677 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 16:40:07.689 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 12.447ms.
2025-07-07 16:40:47.403 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:47.407 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:40:47.416 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:40:47.422 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:40:47.425 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:47.428 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:40:47.431 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:40:47.436 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:40:47.437 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:40:47.439 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:47.441 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:47.444 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:47.447 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:40:47.448 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:40:47.450 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:47.452 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:47.455 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:47.457 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:40:47.458 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:40:47.460 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:47.462 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:47.465 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:47.467 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:40:47.468 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:40:47.469 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:40:47.470 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:40:47.471 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:40:47.504 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000019 | Respuesta: Acceso permitido | 
2025-07-07 16:40:47.604 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:47.608 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:40:47.618 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:40:47.631 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:47.636 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:40:47.653 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:47.658 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:40:47.683 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:47.687 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:40:52.406 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:52.411 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:40:53.574 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:53.584 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:40:53.595 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:53.599 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:40:54.864 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:54.869 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:40:54.882 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:54.886 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:40:54.899 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:54.904 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:40:55.588 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:55.593 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:40:55.602 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:40:55.607 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:40:55.610 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.614 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:40:55.619 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:40:55.626 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:40:55.627 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:40:55.630 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:55.634 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:55.638 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.641 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:40:55.642 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:40:55.644 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:55.649 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:55.653 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.656 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:40:55.658 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:40:55.661 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:55.666 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:55.670 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.673 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:40:55.674 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:40:55.676 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:40:55.677 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:40:55.680 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:40:55.699 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Ruta diaria actualizada por Planeador | RutaId: RA0000000019 | Estado: PLANEADO | 
2025-07-07 16:40:55.720 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:55.725 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 16:40:55.734 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:40:55.739 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:40:55.744 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.748 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:40:55.751 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Rutas Diarias.
2025-07-07 16:40:55.758 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:40:55.759 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:40:55.761 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:55.766 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:55.769 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.771 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:40:55.772 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:40:55.774 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:55.777 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:55.783 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.786 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:40:55.787 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:40:55.789 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:55.792 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:55.796 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.799 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:40:55.800 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:40:55.802 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:40:55.803 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:40:55.804 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:40:55.814 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:55.818 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:40:55.826 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:40:55.832 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:40:55.836 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.839 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:40:55.842 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:40:55.850 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:40:55.852 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:40:55.854 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:55.857 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:55.860 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.865 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:40:55.867 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:40:55.870 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:55.873 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:55.877 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.883 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:40:55.884 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:40:55.886 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:55.889 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:55.892 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:55.895 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:40:55.897 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:40:55.899 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:40:55.900 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:40:55.902 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:40:55.910 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:40:56.026 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:40:56.032 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:40:56.047 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:40:56.053 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:40:56.059 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:56.065 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:40:56.069 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:40:56.079 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:40:56.082 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:40:56.084 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:56.088 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:56.092 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:56.097 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:40:56.099 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:40:56.101 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:56.105 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:56.109 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:56.115 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:40:56.117 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:40:56.120 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:40:56.125 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:40:56.129 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:40:56.132 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:40:56.134 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:40:56.136 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:40:56.138 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:40:56.140 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:40:56.152 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:40:56.155 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 16:40:56.177 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 22.5256ms.
2025-07-07 16:43:21.179 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:21.187 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:43:21.199 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:43:21.207 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:43:21.212 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:21.214 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:43:21.216 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:43:21.230 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:43:21.237 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:43:21.245 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:21.249 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:21.254 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:21.257 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:43:21.258 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:43:21.260 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:21.265 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:21.272 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:21.276 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:43:21.278 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:43:21.279 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:21.283 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:21.287 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:21.289 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:43:21.290 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:43:21.292 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:43:21.293 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:43:21.294 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:43:21.325 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000025 | Respuesta: Acceso permitido | 
2025-07-07 16:43:21.415 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:21.420 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:43:21.430 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:43:21.445 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:21.450 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:43:21.471 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:21.476 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:43:21.497 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:21.502 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:43:26.145 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:26.148 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:43:27.217 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:27.222 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:43:27.231 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:27.236 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:43:28.602 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:28.609 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:43:28.622 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:28.625 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:43:28.636 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:28.639 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:43:29.678 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:29.682 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:43:29.691 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:43:29.695 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:43:29.698 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.700 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:43:29.704 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:43:29.711 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:43:29.713 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:43:29.714 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:29.718 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:29.721 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.723 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:43:29.724 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:43:29.725 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:29.727 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:29.730 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.733 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:43:29.734 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:43:29.735 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:29.738 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:29.741 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.744 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:43:29.744 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:43:29.745 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:43:29.746 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:43:29.747 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:43:29.767 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Ruta diaria actualizada por Planeador | RutaId: RA0000000025 | Estado: PLANEADO | 
2025-07-07 16:43:29.782 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:29.786 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 16:43:29.794 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:43:29.805 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:43:29.808 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.810 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:43:29.812 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Rutas Diarias.
2025-07-07 16:43:29.819 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:43:29.820 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:43:29.822 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:29.824 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:29.827 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.829 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:43:29.870 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:43:29.872 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:29.875 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:29.879 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.882 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:43:29.883 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:43:29.884 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:29.887 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:29.889 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.891 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:43:29.892 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:43:29.893 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:43:29.894 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:43:29.895 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:43:29.904 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:29.907 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:43:29.916 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:43:29.927 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:43:29.930 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.932 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:43:29.935 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:43:29.941 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:43:29.943 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:43:29.944 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:29.947 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:29.950 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.953 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:43:29.953 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:43:29.955 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:29.957 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:29.960 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.962 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:43:29.963 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:43:29.964 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:29.967 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:29.970 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:29.971 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:43:29.972 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:43:29.973 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:43:29.974 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:43:29.975 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:43:29.983 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:43:30.077 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:43:30.084 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:43:30.092 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:43:30.095 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:43:30.098 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:30.103 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:43:30.108 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:43:30.117 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:43:30.118 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:43:30.120 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:30.123 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:30.126 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:30.128 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:43:30.129 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:43:30.132 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:30.136 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:30.139 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:30.141 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:43:30.142 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:43:30.144 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:43:30.147 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:43:30.152 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:43:30.154 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:43:30.155 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:43:30.156 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:43:30.157 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:43:30.158 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:43:30.165 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:43:30.168 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 16:43:30.180 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 11.9315ms.
2025-07-07 16:48:43.224 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:43.232 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:48:43.262 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:48:43.268 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:48:43.274 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:43.278 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:48:43.283 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:48:43.293 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:48:43.295 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:48:43.299 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:48:43.302 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:48:43.308 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:43.312 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:48:43.314 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:48:43.317 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:48:43.320 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:48:43.325 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:43.329 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:48:43.331 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:48:43.334 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:48:43.338 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:48:43.343 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:43.346 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:48:43.348 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:48:43.351 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:48:43.353 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:48:43.355 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:48:43.368 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:48:43.797 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:43.830 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:48:43.849 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:48:43.858 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:48:43.898 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:43.903 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:48:43.917 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:48:43.927 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:48:43.930 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:48:43.933 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:48:43.940 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:48:43.946 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:43.949 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:48:43.951 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:48:43.954 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:48:43.960 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:48:43.967 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:43.974 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:48:43.976 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:48:43.979 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:48:43.982 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:48:43.987 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:43.991 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:48:43.995 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:48:43.999 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:48:44.001 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:48:44.003 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:48:44.021 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:48:44.025 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 16:48:44.090 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 64.6289ms.
2025-07-07 16:48:45.443 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:45.449 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:48:45.468 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:48:45.477 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:48:45.481 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:45.485 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:48:45.490 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:48:45.497 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:48:45.499 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:48:45.501 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:48:45.509 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:48:45.513 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:45.517 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:48:45.519 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:48:45.528 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:48:45.532 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:48:45.545 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:45.552 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:48:45.560 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:48:45.563 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:48:45.567 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:48:45.573 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:48:45.580 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:48:45.583 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:48:45.586 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:48:45.590 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:48:45.592 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:48:45.627 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a /RutasDiarias/Edit/RA0000000028 | Respuesta: Acceso permitido | 
2025-07-07 16:48:46.641 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:46.649 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetJefesTurnoBySucursal (VCashApp)'
2025-07-07 16:48:46.668 -05:00 [INF] DEPURACION AJAX GET: jtCargoId: 64
2025-07-07 16:48:46.717 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:46.747 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetConductoresBySucursal (VCashApp)'
2025-07-07 16:48:46.826 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:46.881 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetTripulantesBySucursal (VCashApp)'
2025-07-07 16:48:46.950 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:46.964 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetVehiclesBySucursal (VCashApp)'
2025-07-07 16:48:52.084 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:52.091 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:48:53.104 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:53.110 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:48:53.127 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:53.133 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:48:57.093 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:57.097 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:48:57.112 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:57.115 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:48:57.131 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:48:57.135 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.GetEmployeeDetails (VCashApp)'
2025-07-07 16:49:11.111 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:49:11.115 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.Edit (VCashApp)'
2025-07-07 16:49:11.140 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:49:11.144 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:49:11.150 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.155 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.Edit (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "Edit". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:49:11.161 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Editar Ruta.
2025-07-07 16:49:11.169 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:49:11.170 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:49:11.172 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.175 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.179 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.182 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:49:11.184 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:49:11.187 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.189 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.193 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.196 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:49:11.197 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:49:11.199 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.203 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.206 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.209 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:49:11.210 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:49:11.212 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:49:11.213 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:49:11.215 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:49:11.233 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Ruta diaria actualizada por Planeador | RutaId: RA0000000028 | Estado: PLANEADO | 
2025-07-07 16:49:11.254 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:49:11.257 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp)'
2025-07-07 16:49:11.271 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:49:11.275 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:49:11.281 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.286 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.ListGenerated (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:49:11.290 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Rutas Diarias.
2025-07-07 16:49:11.297 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:49:11.299 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:49:11.301 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.304 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.308 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.312 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:49:11.313 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:49:11.315 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.319 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.322 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.325 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:49:11.326 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:49:11.328 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.331 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.335 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.338 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:49:11.344 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:49:11.346 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:49:11.347 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:49:11.350 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:49:11.363 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:49:11.367 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:49:11.375 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:49:11.380 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:49:11.385 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.388 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:49:11.391 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:49:11.398 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:49:11.399 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:49:11.401 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.404 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.408 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.410 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:49:11.411 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:49:11.413 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.417 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.420 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.423 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:49:11.424 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:49:11.426 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.429 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.432 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.435 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:49:11.437 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:49:11.439 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:49:11.440 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:49:11.442 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:49:11.451 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:49:11.660 -05:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The key {7bb33ef4-ee75-4865-bf27-40137277b93a} was not found in the key ring. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-07-07 16:49:11.669 -05:00 [INF] Executing endpoint 'VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp)'
2025-07-07 16:49:11.679 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Roles de usuario para permiso: Planeador.
2025-07-07 16:49:11.690 -05:00 [INF] | AuthFilter: Buscando permiso para rol 'Planeador' (Id: c6b2ed9a-c908-4864-a2f2-d47bc48fb366) para vista 'RUD'
2025-07-07 16:49:11.696 -05:00 [INF] | AuthFilter: Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.701 -05:00 [INF] | AuthFilter: VCashApp.Controllers.RutasDiariasController.PlannerDashboard (VCashApp) | Usuario: planeador1 | IP: 0.0.0.1 | Resultado: Acceso concedido. TipoPermiso: "View". Vista: 'RUD'. Roles del usuario: Planeador.
2025-07-07 16:49:11.705 -05:00 [INF] DEPURACION VIEWBAGS: Iniciando SetCommonViewBagsAsync para Planner.
2025-07-07 16:49:11.713 -05:00 [INF] DEPURACION VIEWBAGS: Roles del usuario: Planeador
2025-07-07 16:49:11.714 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "View"
2025-07-07 16:49:11.718 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.721 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.725 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.728 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Ver concedido para rol Planeador.
2025-07-07 16:49:11.729 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Create"
2025-07-07 16:49:11.732 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.736 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.740 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.743 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Crear concedido para rol Planeador.
2025-07-07 16:49:11.744 -05:00 [INF] DEPURACION PERMISOS (Base): Iniciando HasPermisionForView. Roles recibidos: Planeador, Vista: RUD, Tipo Permiso: "Edit"
2025-07-07 16:49:11.747 -05:00 [INF] DEPURACION PERMISOS (Base): Procesando rol: Planeador
2025-07-07 16:49:11.757 -05:00 [INF] DEPURACION PERMISOS (Base): Rol 'Planeador' tiene ID: c6b2ed9a-c908-4864-a2f2-d47bc48fb366 (obtenido de la DB)
2025-07-07 16:49:11.763 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de perfil encontrado para RoleId: c6b2ed9a-c908-4864-a2f2-d47bc48fb366, CodVista: RUD. PuedeVer: true, PuedeCrear: true, PuedeEditar: true.
2025-07-07 16:49:11.768 -05:00 [INF] DEPURACION PERMISOS (Base): Permiso de Editar concedido para rol Planeador.
2025-07-07 16:49:11.770 -05:00 [INF] DEPURACION VIEWBAGS: hasRUDView: true, hasRUDCreate: true, hasRUDEdit: true
2025-07-07 16:49:11.773 -05:00 [INF] DEPURACION VIEWBAGS: userRoles.Contains("Planeador"): true
2025-07-07 16:49:11.774 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.IsAdmin: false
2025-07-07 16:49:11.776 -05:00 [INF] DEPURACION VIEWBAGS: Valor final de ViewBag.canEditPlaneador: true
2025-07-07 16:49:11.787 -05:00 [INF] | Usuario: planeador1 | Ip: 0.0.0.1 | Acción: Acceso a Planner Dashboard | Cantidad de rutas: 15 | Respuesta: Acceso permitido | 
2025-07-07 16:49:11.790 -05:00 [INF] Executing PartialViewResult, running view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml.
2025-07-07 16:49:11.810 -05:00 [INF] Executed PartialViewResult - view ~/Views/RutasDiarias/_RoutesTablePartial.cshtml executed in 20.559ms.

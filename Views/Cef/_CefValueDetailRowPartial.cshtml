@model VCashApp.Models.ViewModels.CentroEfectivo.CefValueDetailViewModel
@{
    int index = (int)ViewData["index"];
    var valueTypes = (List<Microsoft.AspNetCore.Mvc.Rendering.SelectListItem>)ViewBag.ValueTypes;
}

<tr>
    <td>
        <input type="hidden" name="ValueDetails[@index].Id" value="@Model.Id" />
        <select name="ValueDetails[@index].ValueType" class="form-control form-control-sm" asp-items="valueTypes">
            <option value="">-- Tipo --</option>
        </select>
        <span asp-validation-for="ValueType" class="text-danger"></span>
    </td>
    <td>
        <div class="form-group mb-0" style="display: none;">
            <label asp-for="Denomination" class="sr-only"></label> @* Propiedad en inglés *@
            <input type="number" step="1" name="ValueDetails[@index].Denomination" value="@Model.Denomination" class="form-control form-control-sm" placeholder="Denominación" />
            <span asp-validation-for="Denomination" class="text-danger"></span> @* asp-validation-for también debe usar Model.Propiedad *@
            <div class="form-check mt-1">
                <input type="checkbox" name="ValueDetails[@index].IsHighDenomination" value="true" class="form-check-input" checked="@Model.IsHighDenomination" />
                <label asp-for="IsHighDenomination" class="form-check-label"></label> @* Propiedad en inglés *@
            </div>
        </div>
        
        <div class="form-group mb-0" style="display: none;">
            <label asp-for="UnitValue" class="sr-only"></label>
            <input type="number" step="0.01" name="ValueDetails[@index].UnitValue" value="@Model.UnitValue" class="form-control form-control-sm" placeholder="Valor Unitario" />
            <span asp-validation-for="UnitValue" class="text-danger"></span>
        </div>
    </td>
    <td>
        <div class="form-group mb-0" style="display: none;">
            <label asp-for="Quantity" class="sr-only"></label>
            <input type="number" name="ValueDetails[@index].Quantity" value="@Model.Quantity" class="form-control form-control-sm" placeholder="Cantidad" />
            <span asp-validation-for="Quantity" class="text-danger"></span>
        </div>
    </td>
    <td>
        <div class="form-group mb-0" style="display: none;">
            <label asp-for="BundlesCount" class="sr-only"></label>
            <input type="number" name="ValueDetails[@index].BundlesCount" value="@Model.BundlesCount" class="form-control form-control-sm" placeholder="Fajos" />
            <span asp-validation-for="BundlesCount" class="text-danger"></span>
        </div>
    </td>
    <td>
        <div class="form-group mb-0" style="display: none;">
            <label asp-for="LoosePiecesCount" class="sr-only"></label>
            <input type="number" name="ValueDetails[@index].LoosePiecesCount" value="@Model.LoosePiecesCount" class="form-control form-control-sm" placeholder="Picos" />
            <span asp-validation-for="LoosePiecesCount" class="text-danger"></span>
        </div>
    </td>
    <td>
        <label asp-for="CalculatedAmount" class="sr-only"></label>
        <input type="number" step="1" name="ValueDetails[@index].CalculatedAmount" value="@Model.CalculatedAmount" class="form-control form-control-sm" readonly />
    </td>
    <td>
        <div class="form-group mb-0" style="display: none;">
            <label asp-for="IdentifierNumber" class="sr-only"></label>
            <input type="text" name="ValueDetails[@index].IdentifierNumber" value="@Model.IdentifierNumber" class="form-control form-control-sm" placeholder="ID (Cheque/Doc)" />
        </div>
    </td>
    <td>
        <div class="form-group mb-0" style="display: none;">
            <label asp-for="BankName" class="sr-only"></label>
            <input type="text" name="ValueDetails[@index].BankName" value="@Model.BankName" class="form-control form-control-sm" placeholder="Banco (Cheque)" />
        </div>
    </td>
    <td>
        <button type="button" class="btn btn-danger btn-sm" onclick="removeRow(this)">Eliminar</button>
    </td>
</tr>

<script id="valueDetailTemplate" type="text/template">
    <tr>
        <td>
            <input type="hidden" name="ValueDetails[0].Id" value="0" />
            <select name="ValueDetails[0].ValueType" class="form-control form-control-sm" asp-items="valueTypes"> 
                <option value="">-- Tipo --</option>
            </select>
            <span data-valmsg-for="ValueDetails[0].ValueType" class="text-danger"></span>
        </td>
        <td>
            <div class="form-group mb-0" style="display: none;">
                <input type="number" step="1" name="ValueDetails[0].Denomination" class="form-control form-control-sm" placeholder="Denominación" />
                <span data-valmsg-for="ValueDetails[0].Denomination" class="text-danger"></span>
                <div class="form-check mt-1">
                    <input type="checkbox" name="ValueDetails[0].IsHighDenomination" value="true" class="form-check-input" />
                    <label class="form-check-label">Alta Den.</label>
                </div>
            </div>
            <div class="form-group mb-0" style="display: none;">
                <input type="number" step="0.01" name="ValueDetails[0].UnitValue" class="form-control form-control-sm" placeholder="Valor Unitario" />
                <span data-valmsg-for="ValueDetails[0].UnitValue" class="text-danger"></span>
            </div>
        </td>
        <td>
            <div class="form-group mb-0" style="display: none;">
                <input type="number" name="ValueDetails[0].Quantity" class="form-control form-control-sm" placeholder="Cantidad" />
                <span data-valmsg-for="ValueDetails[0].Quantity" class="text-danger"></span>
            </div>
        </td>
        <td>
            <div class="form-group mb-0" style="display: none;">
                <input type="number" name="ValueDetails[0].BundlesCount" class="form-control form-control-sm" placeholder="Fajos" />
                <span data-valmsg-for="ValueDetails[0].BundlesCount" class="text-danger"></span>
            </div>
        </td>
        <td>
            <div class="form-group mb-0" style="display: none;">
                <input type="number" name="ValueDetails[0].LoosePiecesCount" class="form-control form-control-sm" placeholder="Picos" />
                <span data-valmsg-for="ValueDetails[0].LoosePiecesCount" class="text-danger"></span>
            </div>
        </td>
        <td><input type="number" step="1" name="ValueDetails[0].CalculatedAmount" class="form-control form-control-sm" readonly /></td>
        <td>
            <div class="form-group mb-0" style="display: none;">
                <input type="text" name="ValueDetails[0].IdentifierNumber" class="form-control form-control-sm" placeholder="ID (Cheque/Doc)" />
            </div>
        </td>
        <td>
            <div class="form-group mb-0" style="display: none;">
                <input type="text" name="ValueDetails[0].BankName" class="form-control form-control-sm" placeholder="Banco (Cheque)" />
            </div>
        </td>
        <td><button type="button" class="btn btn-danger btn-sm" onclick="removeRow(this)">Eliminar</button></td>
    </tr>
</script>
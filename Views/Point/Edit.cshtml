@model VCashApp.Models.Dtos.Point.PointUpsertDto
@using Microsoft.AspNetCore.Mvc.Rendering

@{
    Layout = "_Layout";
    ViewData["Title"] = "Editar Punto";

    var clients = (IEnumerable<SelectListItem>)ViewBag.Clientes ?? Enumerable.Empty<SelectListItem>();
    var branches = (IEnumerable<SelectListItem>)ViewBag.Sucursales ?? Enumerable.Empty<SelectListItem>();
    var cities = (IEnumerable<SelectListItem>)ViewBag.Ciudades ?? Enumerable.Empty<SelectListItem>();
    var funds = (IEnumerable<SelectListItem>)ViewBag.Fondos ?? Enumerable.Empty<SelectListItem>();
    var routes = (IEnumerable<SelectListItem>)ViewBag.Rutas ?? Enumerable.Empty<SelectListItem>();
    var ranges = (IEnumerable<SelectListItem>)ViewBag.Rangos ?? Enumerable.Empty<SelectListItem>();
}

@await Html.PartialAsync(
"~/Views/Point/_Form.cshtml",
    Model,
    new ViewDataDictionary(ViewData)
    {
        ["IsEdit"] = true,
        ["Clients"] = clients,
        ["Branches"] = branches,
        ["Cities"] = cities,
        ["Funds"] = funds,
        ["Routes"] = routes,
        ["Ranges"] = ranges,
        ["PageName"] = "Editar Punto"
    }
)

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script src="~/js/form-control/point-form-handler.js"></script>
}
